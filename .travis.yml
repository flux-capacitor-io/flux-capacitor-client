language: java

jdk:
  - oraclejdk11

env:
  global:
    secure: MkZg2QA+fqw1BmbRjMsh7tneKneBWwW+HquKvI5RhSsvJ18n5WG0tmdE/HUfKSJck0fAWM2+K/t/V58r07B80KdDGmITj5rLXMaUfCYiQ/wyD/q7ZfctcZeuUTKTLEL1RNfjOI/9IcDgiAT9UhlBetcEzgtOABjrwwxTISsiatHYmeue4Tx70oHpRCHx2XyyA/72c6Rndpfp4c+5SGaePCAIjqQuHbOB5jIQOtEj08M1+GzvfaXRpbnmqKQ7AR0dIKxiVG8S+kE2NZRUxsrfb/JTfWVHjQJgN5jzWYEJE8uL4AuATkdBuys2yfRxcIXUDmM4yXTIMlogeGGPnzkcwmc8tIAYZJJeyWGHoH4fghwIRCkHHrgf2YQDlr6IWmHiomaRe9nt/s71CK8HNf5XgxZ1WocC3CZ1BCDCiBFSbNsBCLnbthwMUp1WucGuNXdrNfECCDvS3p/QY15jZ7Zmausm+bKWEORNVQh4y+RetkHVTBn8d5P8q6bZrVM0mSibwG3KMgltjHd4u6CgFYjCVem3mN7bRs2tRvAAQ+zoJ9/3cGzvVHPsd4WsyURCH+bt1PtTMcNNXqgRuEhe3FNrRZRnDCSpIUCWIKRv0ibzzPkuc05eWEbkgjIPsCQgCwUOjWYqXJGr0Dk8Z7wFi0nD75Yllczn9nj/SX67ZT+BziA=

before_install:
  - openssl aes-256-cbc -K $encrypted_b67762cfeaab_key -iv $encrypted_b67762cfeaab_iv -in .travis/signingkey.asc.enc -out .travis/signingkey.asc -d
  - gpg --fast-import .travis/signingkey.asc

script: mvn install

deploy:
  provider: script
  script: ".travis/deploy.sh"
  on:
    branch: master
    tags: true
    condition: "$TRAVIS_TAG =~ ^[0-9].*$"
