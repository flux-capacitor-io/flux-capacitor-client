<!DOCTYPE HTML>
<html lang>
<head>
<meta http-equiv="Cache-Control" content="no-store, no-cache, must-revalidate, max-age=0" />
<meta http-equiv="Pragma" content="no-cache" />
<meta http-equiv="Expires" content="0" />
<!-- Generated by javadoc (21) on Sun Jul 27 14:18:15 UTC 2025 -->
<title>Member (io.flux-capacitor:java-client 0.1220.1 API)</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="dc.created" content="2025-07-27">
<meta name="description" content="declaration: package: io.fluxcapacitor.javaclient.modeling, annotation type: Member">
<meta name="generator" content="javadoc/ClassWriterImpl">
<link rel="stylesheet" type="text/css" href="../../../../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../script-dir/jquery-ui.min.css" title="Style">
<script type="text/javascript" src="../../../../script.js"></script>
<script type="text/javascript" src="../../../../script-dir/jquery-3.7.1.min.js"></script>
<script type="text/javascript" src="../../../../script-dir/jquery-ui.min.js"></script>
</head>
<body class="class-declaration-page">
<script type="text/javascript">var pathtoroot = "../../../../";
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<div class="flex-box">
<header role="banner" class="flex-header">
<nav role="navigation">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="top-nav" id="navbar-top"><button id="navbar-toggle-button" aria-controls="navbar-top" aria-expanded="false" aria-label="Toggle navigation links"><span class="nav-bar-toggle-icon">&nbsp;</span><span class="nav-bar-toggle-icon">&nbsp;</span><span class="nav-bar-toggle-icon">&nbsp;</span></button>
<div class="skip-nav"><a href="#skip-navbar-top" title="Skip navigation links">Skip navigation links</a></div>
<ul id="navbar-top-firstrow" class="nav-list" title="Navigation">
<li><a href="../../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="nav-bar-cell1-rev">Class</li>
<li><a href="class-use/Member.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html#class">Help</a></li>
</ul>
<ul class="sub-nav-list-small">
<li>
<p>Summary:</p>
<ul>
<li>Field</li>
<li>Required</li>
<li><a href="#annotation-interface-optional-element-summary">Optional</a></li>
</ul>
</li>
<li>
<p>Detail:</p>
<ul>
<li>Field</li>
<li><a href="#annotation-interface-element-detail">Element</a></li>
</ul>
</li>
</ul>
</div>
<div class="sub-nav">
<div id="navbar-sub-list">
<ul class="sub-nav-list">
<li>Summary:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Required&nbsp;|&nbsp;</li>
<li><a href="#annotation-interface-optional-element-summary">Optional</a></li>
</ul>
<ul class="sub-nav-list">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#annotation-interface-element-detail">Element</a></li>
</ul>
</div>
<div class="nav-list-search"><a href="../../../../search.html">SEARCH</a>
<input type="text" id="search-input" disabled placeholder="Search">
<input type="reset" id="reset-button" disabled value="reset">
</div>
</div>
<!-- ========= END OF TOP NAVBAR ========= -->
<span class="skip-nav" id="skip-navbar-top"></span></nav>
</header>
<div class="flex-content">
<main role="main">
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="sub-title"><span class="package-label-in-type">Package</span>&nbsp;<a href="package-summary.html">io.fluxcapacitor.javaclient.modeling</a></div>
<h1 title="Annotation Interface Member" class="title">Annotation Interface Member</h1>
</div>
<section class="class-description" id="class-description">
<hr>
<div class="type-signature"><span class="annotations"><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/annotation/Documented.html" title="class or interface in java.lang.annotation" class="external-link">@Documented</a>
<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/annotation/Target.html" title="class or interface in java.lang.annotation" class="external-link">@Target</a>({<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/annotation/ElementType.html#FIELD" title="class or interface in java.lang.annotation" class="external-link">FIELD</a>,<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/annotation/ElementType.html#METHOD" title="class or interface in java.lang.annotation" class="external-link">METHOD</a>})
<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/annotation/Retention.html" title="class or interface in java.lang.annotation" class="external-link">@Retention</a>(<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/annotation/RetentionPolicy.html#RUNTIME" title="class or interface in java.lang.annotation" class="external-link">RUNTIME</a>)
<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/annotation/Inherited.html" title="class or interface in java.lang.annotation" class="external-link">@Inherited</a>
</span><span class="modifiers">public @interface </span><span class="element-name type-name-label">Member</span></div>
<div class="block">Indicates that the annotated field or getter represents a nested entity or collection of entities within an
 aggregate.
 <p>
 Entities marked with <code>@Member</code> participate in aggregate routing, event sourcing, and update application. When
 an update targets a nested entity, Flux will use this annotation to traverse the aggregate structure and locate the
 correct entity (or entities) to apply the update to.

 <p>
 This annotation supports modeling complex aggregates composed of multiple entities, for example:
 <pre><code>
 @Aggregate
 public class Project {
     @EntityId
     String projectId;

     @Member
     List&lt;Task&gt; tasks;
 }
 </code></pre>
 Here, updates targeting <code>Task</code> entities will automatically be routed by matching <code>TaskId</code> (declared with
 <a href="EntityId.html" title="annotation interface in io.fluxcapacitor.javaclient.modeling"><code>EntityId</code></a>) inside the <code>Task</code> class.

 <h2 id="support-for-new-entities-heading">Support for new entities</h2>
 <p>
 If no matching entity is found for a given update, Flux will still evaluate the update against applicable
 <code>@Apply</code> and <code>@AssertLegal</code> methods. This allows new entity creation directly from the update payload
 when appropriate logic is defined.
 <br>For example:
 <pre><code>
 @Apply
 Task create() {
     return Task.builder().taskId(taskId).details(taskDetails).build();
 }
 </code></pre>
 will be used to create a new <code>Task</code> if no matching task exists in the <code>tasks</code> member list.

 <h2 id="immutability-and-parent-updates-heading">Immutability and parent updates</h2>
 <p>
 Flux assumes immutability by default. When a nested entity is added, removed, or modified, Flux will attempt to
 create a new version of the parent entity by copying and updating the annotated container field (list, map, etc.).
 The parent is not modified directly.
 <br>This behavior ensures safe update propagation and accurate change tracking, especially during event sourcing.
 <br>For example, if <code>ProductCategory</code> has a list of <code>Product</code>s:
 <pre><code>
 @Member
 List&lt;Product&gt; products;
 </code></pre>
 and one product is updated, Flux will replace the <code>products</code> list with a new list containing the updated
 entity.

 <h2 id="optional-attributes-heading">Optional attributes</h2>
 <ul>
     <li><strong><code>idProperty</code></strong> (default: empty):<br>
         Use this to explicitly specify the identifier property name on the nested entity. By default,
         Flux locates the identifier via the <a href="EntityId.html" title="annotation interface in io.fluxcapacitor.javaclient.modeling"><code>EntityId</code></a> annotation.</li>

     <li><strong><code>wither</code></strong> (default: empty):<br>
         Defines a method (by name) that should be invoked to update the container when the entity is added,
         removed, or replaced. Normally, Flux will update the container (e.g., list or map) automatically.
         This setting is useful for immutable containers or cases requiring side effects during updates.
     </li>
 </ul>

 <p>
 Supported container types:
 <ul>
     <li>Single nested entities (e.g., <code>Product product</code>)</li>
     <li>Collections of entities (e.g., <code>List&lt;Product&gt;</code>)</li>
     <li>Maps of entities keyed by their identifier</li>
 </ul></div>
<dl class="notes">
<dt>See Also:</dt>
<dd>
<ul class="tag-list">
<li><a href="EntityId.html" title="annotation interface in io.fluxcapacitor.javaclient.modeling"><code>EntityId</code></a></li>
<li><a href="Aggregate.html" title="annotation interface in io.fluxcapacitor.javaclient.modeling"><code>Aggregate</code></a></li>
<li><a href="../persisting/eventsourcing/Apply.html" title="annotation interface in io.fluxcapacitor.javaclient.persisting.eventsourcing"><code>Apply</code></a></li>
<li><a href="AssertLegal.html" title="annotation interface in io.fluxcapacitor.javaclient.modeling"><code>AssertLegal</code></a></li>
</ul>
</dd>
</dl>
</section>
<section class="summary">
<ul class="summary-list">
<!-- =========== ANNOTATION INTERFACE OPTIONAL MEMBER SUMMARY =========== -->
<li>
<section class="member-summary" id="annotation-interface-optional-element-summary">
<h2>Optional Element Summary</h2>
<div class="caption"><span>Optional Elements</span></div>
<div class="summary-table three-column-summary">
<div class="table-header col-first">Modifier and Type</div>
<div class="table-header col-second">Optional Element</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color"><code><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></code></div>
<div class="col-second even-row-color"><code><a href="#idProperty()" class="member-name-link">idProperty</a></code></div>
<div class="col-last even-row-color">
<div class="block">Specifies the name of the identifier property on the nested entity, if different from the default detected one.</div>
</div>
<div class="col-first odd-row-color"><code><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></code></div>
<div class="col-second odd-row-color"><code><a href="#wither()" class="member-name-link">wither</a></code></div>
<div class="col-last odd-row-color">
<div class="block">Optionally defines the name of a method that should be used to apply updates to the container of the nested
 entity.</div>
</div>
</div>
</section>
</li>
</ul>
</section>
<section class="details" id="annotation-interface-element-detail">
<ul class="details-list">
<!-- ============ ANNOTATION INTERFACE MEMBER DETAIL =========== -->
<li>
<section class="member-details">
<h2>Element Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="idProperty()">
<h3>idProperty</h3>
<div class="member-signature"><span class="return-type"><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></span>&nbsp;<span class="element-name">idProperty</span></div>
<div class="block">Specifies the name of the identifier property on the nested entity, if different from the default detected one.</div>
<dl class="notes">
<dt>Default:</dt>
<dd><code>""</code></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="wither()">
<h3>wither</h3>
<div class="member-signature"><span class="return-type"><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></span>&nbsp;<span class="element-name">wither</span></div>
<div class="block">Optionally defines the name of a method that should be used to apply updates to the container of the nested
 entity.
 <p>
 Normally, Flux automatically updates the container (for lists, maps, or singletons). This attribute is only
 necessary if a custom update method must be invoked instead.</div>
<dl class="notes">
<dt>Default:</dt>
<dd><code>""</code></dd>
</dl>
</section>
</li>
</ul>
</section>
</li>
</ul>
</section>
<!-- ========= END OF CLASS DATA ========= -->
</main>
<footer role="contentinfo">
<hr>
<p class="legal-copy"><small>Copyright &#169; 2025 <a href="https://github.com/flux-capacitor-io/flux-capacitor-client">Flux Capacitor</a>. All rights reserved.</small></p>
</footer>
</div>
</div>
</body>
</html>
