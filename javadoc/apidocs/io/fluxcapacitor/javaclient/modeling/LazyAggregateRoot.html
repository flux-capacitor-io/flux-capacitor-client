<!DOCTYPE HTML>
<html lang>
<head>
<meta http-equiv="Cache-Control" content="no-store, no-cache, must-revalidate, max-age=0" />
<meta http-equiv="Pragma" content="no-cache" />
<meta http-equiv="Expires" content="0" />
<!-- Generated by javadoc (21) on Mon Jul 28 13:05:52 UTC 2025 -->
<title>LazyAggregateRoot (Flux Capacitor Client 0.1221.0 API)</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="dc.created" content="2025-07-28">
<meta name="description" content="declaration: package: io.fluxcapacitor.javaclient.modeling, class: LazyAggregateRoot">
<meta name="generator" content="javadoc/ClassWriterImpl">
<link rel="stylesheet" type="text/css" href="../../../../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../script-dir/jquery-ui.min.css" title="Style">
<script type="text/javascript" src="../../../../script.js"></script>
<script type="text/javascript" src="../../../../script-dir/jquery-3.7.1.min.js"></script>
<script type="text/javascript" src="../../../../script-dir/jquery-ui.min.js"></script>
</head>
<body class="class-declaration-page">
<script type="text/javascript">var pathtoroot = "../../../../";
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<div class="flex-box">
<header role="banner" class="flex-header">
<nav role="navigation">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="top-nav" id="navbar-top"><button id="navbar-toggle-button" aria-controls="navbar-top" aria-expanded="false" aria-label="Toggle navigation links"><span class="nav-bar-toggle-icon">&nbsp;</span><span class="nav-bar-toggle-icon">&nbsp;</span><span class="nav-bar-toggle-icon">&nbsp;</span></button>
<div class="skip-nav"><a href="#skip-navbar-top" title="Skip navigation links">Skip navigation links</a></div>
<ul id="navbar-top-firstrow" class="nav-list" title="Navigation">
<li><a href="../../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="nav-bar-cell1-rev">Class</li>
<li><a href="class-use/LazyAggregateRoot.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html#class">Help</a></li>
</ul>
<ul class="sub-nav-list-small">
<li>
<p>Summary:</p>
<ul>
<li>Nested</li>
<li><a href="#field-summary">Field</a></li>
<li><a href="#constructor-summary">Constr</a></li>
<li><a href="#method-summary">Method</a></li>
</ul>
</li>
<li>
<p>Detail:</p>
<ul>
<li>Field</li>
<li><a href="#constructor-detail">Constr</a></li>
<li><a href="#method-detail">Method</a></li>
</ul>
</li>
</ul>
</div>
<div class="sub-nav">
<div id="navbar-sub-list">
<ul class="sub-nav-list">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field-summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor-summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method-summary">Method</a></li>
</ul>
<ul class="sub-nav-list">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor-detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method-detail">Method</a></li>
</ul>
</div>
<div class="nav-list-search"><a href="../../../../search.html">SEARCH</a>
<input type="text" id="search-input" disabled placeholder="Search">
<input type="reset" id="reset-button" disabled value="reset">
</div>
</div>
<!-- ========= END OF TOP NAVBAR ========= -->
<span class="skip-nav" id="skip-navbar-top"></span></nav>
</header>
<div class="flex-content">
<main role="main">
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="sub-title"><span class="package-label-in-type">Package</span>&nbsp;<a href="package-summary.html">io.fluxcapacitor.javaclient.modeling</a></div>
<h1 title="Class LazyAggregateRoot" class="title">Class LazyAggregateRoot&lt;T&gt;</h1>
</div>
<div class="inheritance" title="Inheritance Tree"><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">java.lang.Object</a>
<div class="inheritance">io.fluxcapacitor.javaclient.modeling.LazyAggregateRoot&lt;T&gt;</div>
</div>
<section class="class-description" id="class-description">
<dl class="notes">
<dt>Type Parameters:</dt>
<dd><code>T</code> - The type of the aggregate's value.</dd>
</dl>
<dl class="notes">
<dt>All Implemented Interfaces:</dt>
<dd><code><a href="AggregateRoot.html" title="interface in io.fluxcapacitor.javaclient.modeling">AggregateRoot</a>&lt;T&gt;</code>, <code><a href="Entity.html" title="interface in io.fluxcapacitor.javaclient.modeling">Entity</a>&lt;T&gt;</code></dd>
</dl>
<hr>
<div class="type-signature"><span class="modifiers">public class </span><span class="element-name type-name-label">LazyAggregateRoot&lt;T&gt;</span>
<span class="extends-implements">extends <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a>
implements <a href="AggregateRoot.html" title="interface in io.fluxcapacitor.javaclient.modeling">AggregateRoot</a>&lt;T&gt;</span></div>
<div class="block">A lazily-loaded implementation of <a href="AggregateRoot.html" title="interface in io.fluxcapacitor.javaclient.modeling"><code>AggregateRoot</code></a> that defers deserialization and event application until the
 entity value is explicitly accessed.
 <p>
 This implementation is typically used as a historical <code>previous</code> reference in <a href="ImmutableAggregateRoot.html" title="class in io.fluxcapacitor.javaclient.modeling"><code>ImmutableAggregateRoot</code></a>
 when the aggregate's <a href="Aggregate.html#cachingDepth()"><code>Aggregate.cachingDepth()</code></a> has been exceeded. In
 such cases, only the checkpointed state is retained in memory, and the full entity state is reconstructed by
 replaying events from the most recent checkpoint.
 <p>
 <code>LazyAggregateRoot</code> is read-only and will throw <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/UnsupportedOperationException.html" title="class or interface in java.lang" class="external-link"><code>UnsupportedOperationException</code></a> for any attempt to
 apply updates or modify the state. It is solely intended for retrieving past states in an efficient and
 memory-conscious way.
 <p>
 Event replay occurs on demand via the <a href="#get()"><code>get()</code></a> method, which reconstructs the aggregate state by re-applying
 all events from the last known checkpoint until the desired sequence number or event id is reached.</div>
<dl class="notes">
<dt>See Also:</dt>
<dd>
<ul class="tag-list-long">
<li><code>ImmutableAggregateRoot.asPrevious(long)</code></li>
</ul>
</dd>
</dl>
</section>
<section class="summary">
<ul class="summary-list">
<!-- =========== FIELD SUMMARY =========== -->
<li>
<section class="field-summary" id="field-summary">
<h2>Field Summary</h2>
<div class="inherited-list">
<h3 id="fields-inherited-from-class-io.fluxcapacitor.javaclient.modeling.Entity">Fields inherited from interface&nbsp;io.fluxcapacitor.javaclient.modeling.<a href="Entity.html" title="interface in io.fluxcapacitor.javaclient.modeling">Entity</a></h3>
<code><a href="Entity.html#AGGREGATE_ID_METADATA_KEY">AGGREGATE_ID_METADATA_KEY</a>, <a href="Entity.html#AGGREGATE_SN_METADATA_KEY">AGGREGATE_SN_METADATA_KEY</a>, <a href="Entity.html#AGGREGATE_TYPE_METADATA_KEY">AGGREGATE_TYPE_METADATA_KEY</a>, <a href="Entity.html#applying">applying</a>, <a href="Entity.html#loading">loading</a></code></div>
</section>
</li>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<li>
<section class="constructor-summary" id="constructor-summary">
<h2>Constructor Summary</h2>
<div class="caption"><span>Constructors</span></div>
<div class="summary-table three-column-summary">
<div class="table-header col-first">Modifier</div>
<div class="table-header col-second">Constructor</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color"><code>protected </code></div>
<div class="col-constructor-name even-row-color"><code><a href="#%3Cinit%3E(io.fluxcapacitor.javaclient.modeling.ImmutableAggregateRoot)" class="member-name-link">LazyAggregateRoot</a><wbr>(<a href="ImmutableAggregateRoot.html" title="class in io.fluxcapacitor.javaclient.modeling">ImmutableAggregateRoot</a>&lt;<a href="LazyAggregateRoot.html" title="type parameter in LazyAggregateRoot">T</a>&gt;&nbsp;delegate)</code></div>
<div class="col-last even-row-color">&nbsp;</div>
</div>
</section>
</li>
<!-- ========== METHOD SUMMARY =========== -->
<li>
<section class="method-summary" id="method-summary">
<h2>Method Summary</h2>
<div id="method-summary-table">
<div class="table-tabs" role="tablist" aria-orientation="horizontal"><button id="method-summary-table-tab0" role="tab" aria-selected="true" aria-controls="method-summary-table.tabpanel" tabindex="0" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table', 3)" class="active-table-tab">All Methods</button><button id="method-summary-table-tab1" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab1', 3)" class="table-tab">Static Methods</button><button id="method-summary-table-tab2" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab2', 3)" class="table-tab">Instance Methods</button><button id="method-summary-table-tab4" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab4', 3)" class="table-tab">Concrete Methods</button></div>
<div id="method-summary-table.tabpanel" role="tabpanel" aria-labelledby="method-summary-table-tab0">
<div class="summary-table three-column-summary">
<div class="table-header col-first">Modifier and Type</div>
<div class="table-header col-second">Method</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/Collection.html" title="class or interface in java.util" class="external-link">Collection</a><wbr>&lt;?&gt;</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#aliases()" class="member-name-link">aliases</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Retrieves a collection of aliases associated with this entity.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="Entity.html" title="interface in io.fluxcapacitor.javaclient.modeling">Entity</a><wbr>&lt;<a href="LazyAggregateRoot.html" title="type parameter in LazyAggregateRoot">T</a>&gt;</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#apply(io.fluxcapacitor.javaclient.common.Message)" class="member-name-link">apply</a><wbr>(<a href="../common/Message.html" title="class in io.fluxcapacitor.javaclient.common">Message</a>&nbsp;eventMessage)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Applies the given message to the entity.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>&lt;E extends <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Exception.html" title="class or interface in java.lang" class="external-link">Exception</a>&gt;<br><a href="Entity.html" title="interface in io.fluxcapacitor.javaclient.modeling">Entity</a><wbr>&lt;<a href="LazyAggregateRoot.html" title="type parameter in LazyAggregateRoot">T</a>&gt;</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#assertLegal(java.lang.Object)" class="member-name-link">assertLegal</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a>&nbsp;update)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Verifies that the provided update is legal given the current state of the aggregate.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="Entity.html" title="interface in io.fluxcapacitor.javaclient.modeling">Entity</a><wbr>&lt;<a href="LazyAggregateRoot.html" title="type parameter in LazyAggregateRoot">T</a>&gt;</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#commit()" class="member-name-link">commit</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Commits the current state of the entity, persisting any changes made to it.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/Collection.html" title="class or interface in java.util" class="external-link">Collection</a><wbr>&lt;? extends <a href="Entity.html" title="interface in io.fluxcapacitor.javaclient.modeling">Entity</a>&lt;?&gt;&gt;</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#entities()" class="member-name-link">entities</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Retrieves child entities of this entity.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code>static &lt;T&gt;&nbsp;<a href="LazyAggregateRoot.html" title="class in io.fluxcapacitor.javaclient.modeling">LazyAggregateRoot</a><wbr>&lt;T&gt;</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code><a href="#from(io.fluxcapacitor.javaclient.modeling.ImmutableAggregateRoot)" class="member-name-link">from</a><wbr>(<a href="ImmutableAggregateRoot.html" title="class in io.fluxcapacitor.javaclient.modeling">ImmutableAggregateRoot</a>&lt;T&gt;&nbsp;delegate)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4">&nbsp;</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="LazyAggregateRoot.html" title="type parameter in LazyAggregateRoot">T</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#get()" class="member-name-link">get</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Retrieves the current instance of the entity.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>protected <a href="Entity.html" title="interface in io.fluxcapacitor.javaclient.modeling">Entity</a><wbr>&lt;<a href="LazyAggregateRoot.html" title="type parameter in LazyAggregateRoot">T</a>&gt;</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getLastCheckpoint()" class="member-name-link">getLastCheckpoint</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">&nbsp;</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#id()" class="member-name-link">id</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Retrieves the unique identifier of the entity.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#idProperty()" class="member-name-link">idProperty</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Retrieves the name of the property that serves as the unique identifier for the entity.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#lastEventId()" class="member-name-link">lastEventId</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Retrieves the identifier of the last event applied to the entity hierarchy.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Long.html" title="class or interface in java.lang" class="external-link">Long</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#lastEventIndex()" class="member-name-link">lastEventIndex</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Retrieves the index of the last event applied to this entity hierarchy.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="Entity.html" title="interface in io.fluxcapacitor.javaclient.modeling">Entity</a><wbr>&lt;<a href="LazyAggregateRoot.html" title="type parameter in LazyAggregateRoot">T</a>&gt;</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#previous()" class="member-name-link">previous</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Retrieves the previous version of this entity.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>long</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#sequenceNumber()" class="member-name-link">sequenceNumber</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Retrieves the sequence number of the current entity.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/time/Instant.html" title="class or interface in java.time" class="external-link">Instant</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#timestamp()" class="member-name-link">timestamp</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Retrieves the timestamp of the entity.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Class.html" title="class or interface in java.lang" class="external-link">Class</a><wbr>&lt;<a href="LazyAggregateRoot.html" title="type parameter in LazyAggregateRoot">T</a>&gt;</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#type()" class="member-name-link">type</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Retrieves the type of the entity.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="Entity.html" title="interface in io.fluxcapacitor.javaclient.modeling">Entity</a><wbr>&lt;<a href="LazyAggregateRoot.html" title="type parameter in LazyAggregateRoot">T</a>&gt;</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#update(java.util.function.UnaryOperator)" class="member-name-link">update</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/function/UnaryOperator.html" title="class or interface in java.util.function" class="external-link">UnaryOperator</a>&lt;<a href="LazyAggregateRoot.html" title="type parameter in LazyAggregateRoot">T</a>&gt;&nbsp;function)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Updates the current entity's value using the specified unary operator and returns a new entity containing the
 updated value.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="Entity.html" title="interface in io.fluxcapacitor.javaclient.modeling">Entity</a><wbr>&lt;<a href="LazyAggregateRoot.html" title="type parameter in LazyAggregateRoot">T</a>&gt;</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#withEventIndex(java.lang.Long,java.lang.String)" class="member-name-link">withEventIndex</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Long.html" title="class or interface in java.lang" class="external-link">Long</a>&nbsp;index,
 <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;messageId)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Updates the event index and message ID of the entity and returns the updated version of the entity.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="Entity.html" title="interface in io.fluxcapacitor.javaclient.modeling">Entity</a><wbr>&lt;<a href="LazyAggregateRoot.html" title="type parameter in LazyAggregateRoot">T</a>&gt;</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#withSequenceNumber(long)" class="member-name-link">withSequenceNumber</a><wbr>(long&nbsp;sequenceNumber)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Returns an updated entity based on this with the specified sequence number.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="Entity.html" title="interface in io.fluxcapacitor.javaclient.modeling">Entity</a><wbr>&lt;<a href="LazyAggregateRoot.html" title="type parameter in LazyAggregateRoot">T</a>&gt;</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#withType(java.lang.Class)" class="member-name-link">withType</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Class.html" title="class or interface in java.lang" class="external-link">Class</a>&lt;<a href="LazyAggregateRoot.html" title="type parameter in LazyAggregateRoot">T</a>&gt;&nbsp;type)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Sets the type of the entity to the specified class and returns the updated entity.</div>
</div>
</div>
</div>
</div>
<div class="inherited-list">
<h3 id="methods-inherited-from-class-java.lang.Object">Methods inherited from class&nbsp;java.lang.<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a></h3>
<code><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html#clone()" title="class or interface in java.lang" class="external-link">clone</a>, <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html#equals(java.lang.Object)" title="class or interface in java.lang" class="external-link">equals</a>, <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html#finalize()" title="class or interface in java.lang" class="external-link">finalize</a>, <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html#getClass()" title="class or interface in java.lang" class="external-link">getClass</a>, <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html#hashCode()" title="class or interface in java.lang" class="external-link">hashCode</a>, <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html#notify()" title="class or interface in java.lang" class="external-link">notify</a>, <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html#notifyAll()" title="class or interface in java.lang" class="external-link">notifyAll</a>, <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html#toString()" title="class or interface in java.lang" class="external-link">toString</a>, <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html#wait()" title="class or interface in java.lang" class="external-link">wait</a>, <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html#wait(long)" title="class or interface in java.lang" class="external-link">wait</a>, <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html#wait(long,int)" title="class or interface in java.lang" class="external-link">wait</a></code></div>
<div class="inherited-list">
<h3 id="methods-inherited-from-class-io.fluxcapacitor.javaclient.modeling.AggregateRoot">Methods inherited from interface&nbsp;io.fluxcapacitor.javaclient.modeling.<a href="AggregateRoot.html" title="interface in io.fluxcapacitor.javaclient.modeling">AggregateRoot</a></h3>
<code><a href="AggregateRoot.html#parent()">parent</a></code></div>
<div class="inherited-list">
<h3 id="methods-inherited-from-class-io.fluxcapacitor.javaclient.modeling.Entity">Methods inherited from interface&nbsp;io.fluxcapacitor.javaclient.modeling.<a href="Entity.html" title="interface in io.fluxcapacitor.javaclient.modeling">Entity</a></h3>
<code><a href="Entity.html#allEntities()">allEntities</a>, <a href="Entity.html#ancestors()">ancestors</a>, <a href="Entity.html#ancestorValue(java.lang.Class)">ancestorValue</a>, <a href="Entity.html#apply(io.fluxcapacitor.javaclient.common.serialization.DeserializingMessage)">apply</a>, <a href="Entity.html#apply(java.lang.Object)">apply</a>, <a href="Entity.html#apply(java.lang.Object...)">apply</a>, <a href="Entity.html#apply(java.lang.Object,io.fluxcapacitor.common.api.Metadata)">apply</a>, <a href="Entity.html#apply(java.util.Collection)">apply</a>, <a href="Entity.html#assertAndApply(java.lang.Object)">assertAndApply</a>, <a href="Entity.html#assertAndApply(java.lang.Object...)">assertAndApply</a>, <a href="Entity.html#assertAndApply(java.lang.Object,io.fluxcapacitor.common.api.Metadata)">assertAndApply</a>, <a href="Entity.html#assertAndApply(java.util.Collection)">assertAndApply</a>, <a href="Entity.html#associations(io.fluxcapacitor.javaclient.modeling.Entity)">associations</a>, <a href="Entity.html#depth()">depth</a>, <a href="Entity.html#dissociations(io.fluxcapacitor.javaclient.modeling.Entity)">dissociations</a>, <a href="Entity.html#getEntity(java.lang.Object)">getEntity</a>, <a href="Entity.html#highestEventIndex()">highestEventIndex</a>, <a href="Entity.html#ifPresent(java.util.function.UnaryOperator)">ifPresent</a>, <a href="Entity.html#isEmpty()">isEmpty</a>, <a href="Entity.html#isPresent()">isPresent</a>, <a href="Entity.html#isRoot()">isRoot</a>, <a href="Entity.html#mapIfPresent(java.util.function.Function)">mapIfPresent</a>, <a href="Entity.html#playBackToCondition(java.util.function.Predicate)">playBackToCondition</a>, <a href="Entity.html#playBackToEvent(java.lang.Long,java.lang.String)">playBackToEvent</a>, <a href="Entity.html#possibleTargets(java.lang.Object)">possibleTargets</a>, <a href="Entity.html#relationships()">relationships</a>, <a href="Entity.html#root()">root</a>, <a href="Entity.html#rootAnnotation()">rootAnnotation</a></code></div>
</section>
</li>
</ul>
</section>
<section class="details">
<ul class="details-list">
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<li>
<section class="constructor-details" id="constructor-detail">
<h2>Constructor Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="&lt;init&gt;(io.fluxcapacitor.javaclient.modeling.ImmutableAggregateRoot)">
<h3>LazyAggregateRoot</h3>
<div class="member-signature"><span class="modifiers">protected</span>&nbsp;<span class="element-name">LazyAggregateRoot</span><wbr><span class="parameters">(<a href="ImmutableAggregateRoot.html" title="class in io.fluxcapacitor.javaclient.modeling">ImmutableAggregateRoot</a>&lt;<a href="LazyAggregateRoot.html" title="type parameter in LazyAggregateRoot">T</a>&gt;&nbsp;delegate)</span></div>
</section>
</li>
</ul>
</section>
</li>
<!-- ============ METHOD DETAIL ========== -->
<li>
<section class="method-details" id="method-detail">
<h2>Method Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="from(io.fluxcapacitor.javaclient.modeling.ImmutableAggregateRoot)">
<h3>from</h3>
<div class="member-signature"><span class="modifiers">public static</span>&nbsp;<span class="type-parameters">&lt;T&gt;</span>&nbsp;<span class="return-type"><a href="LazyAggregateRoot.html" title="class in io.fluxcapacitor.javaclient.modeling">LazyAggregateRoot</a>&lt;T&gt;</span>&nbsp;<span class="element-name">from</span><wbr><span class="parameters">(<a href="ImmutableAggregateRoot.html" title="class in io.fluxcapacitor.javaclient.modeling">ImmutableAggregateRoot</a>&lt;T&gt;&nbsp;delegate)</span></div>
</section>
</li>
<li>
<section class="detail" id="withEventIndex(java.lang.Long,java.lang.String)">
<h3>withEventIndex</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="Entity.html" title="interface in io.fluxcapacitor.javaclient.modeling">Entity</a>&lt;<a href="LazyAggregateRoot.html" title="type parameter in LazyAggregateRoot">T</a>&gt;</span>&nbsp;<span class="element-name">withEventIndex</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Long.html" title="class or interface in java.lang" class="external-link">Long</a>&nbsp;index,
 <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;messageId)</span></div>
<div class="block"><span class="description-from-type-label">Description copied from interface:&nbsp;<code><a href="Entity.html#withEventIndex(java.lang.Long,java.lang.String)">Entity</a></code></span></div>
<div class="block">Updates the event index and message ID of the entity and returns the updated version of the entity.</div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="AggregateRoot.html#withEventIndex(java.lang.Long,java.lang.String)">withEventIndex</a></code>&nbsp;in interface&nbsp;<code><a href="AggregateRoot.html" title="interface in io.fluxcapacitor.javaclient.modeling">AggregateRoot</a>&lt;<a href="LazyAggregateRoot.html" title="type parameter in LazyAggregateRoot">T</a>&gt;</code></dd>
<dt>Specified by:</dt>
<dd><code><a href="Entity.html#withEventIndex(java.lang.Long,java.lang.String)">withEventIndex</a></code>&nbsp;in interface&nbsp;<code><a href="Entity.html" title="interface in io.fluxcapacitor.javaclient.modeling">Entity</a>&lt;<a href="LazyAggregateRoot.html" title="type parameter in LazyAggregateRoot">T</a>&gt;</code></dd>
<dt>Parameters:</dt>
<dd><code>index</code> - the event index to set for the root entity</dd>
<dd><code>messageId</code> - the message ID associated with the event</dd>
<dt>Returns:</dt>
<dd>the updated entity corresponding to the current entity's ID and type, or null if no such entity can be
 found</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="sequenceNumber()">
<h3>sequenceNumber</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">long</span>&nbsp;<span class="element-name">sequenceNumber</span>()</div>
<div class="block"><span class="description-from-type-label">Description copied from interface:&nbsp;<code><a href="Entity.html#sequenceNumber()">Entity</a></code></span></div>
<div class="block">Retrieves the sequence number of the current entity.</div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="AggregateRoot.html#sequenceNumber()">sequenceNumber</a></code>&nbsp;in interface&nbsp;<code><a href="AggregateRoot.html" title="interface in io.fluxcapacitor.javaclient.modeling">AggregateRoot</a>&lt;<a href="LazyAggregateRoot.html" title="type parameter in LazyAggregateRoot">T</a>&gt;</code></dd>
<dt>Specified by:</dt>
<dd><code><a href="Entity.html#sequenceNumber()">sequenceNumber</a></code>&nbsp;in interface&nbsp;<code><a href="Entity.html" title="interface in io.fluxcapacitor.javaclient.modeling">Entity</a>&lt;<a href="LazyAggregateRoot.html" title="type parameter in LazyAggregateRoot">T</a>&gt;</code></dd>
<dt>Returns:</dt>
<dd>the sequence number of the root entity</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="timestamp()">
<h3>timestamp</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/time/Instant.html" title="class or interface in java.time" class="external-link">Instant</a></span>&nbsp;<span class="element-name">timestamp</span>()</div>
<div class="block"><span class="description-from-type-label">Description copied from interface:&nbsp;<code><a href="Entity.html#timestamp()">Entity</a></code></span></div>
<div class="block">Retrieves the timestamp of the entity.</div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="AggregateRoot.html#timestamp()">timestamp</a></code>&nbsp;in interface&nbsp;<code><a href="AggregateRoot.html" title="interface in io.fluxcapacitor.javaclient.modeling">AggregateRoot</a>&lt;<a href="LazyAggregateRoot.html" title="type parameter in LazyAggregateRoot">T</a>&gt;</code></dd>
<dt>Specified by:</dt>
<dd><code><a href="Entity.html#timestamp()">timestamp</a></code>&nbsp;in interface&nbsp;<code><a href="Entity.html" title="interface in io.fluxcapacitor.javaclient.modeling">Entity</a>&lt;<a href="LazyAggregateRoot.html" title="type parameter in LazyAggregateRoot">T</a>&gt;</code></dd>
<dt>Returns:</dt>
<dd>the timestamp as an <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/time/Instant.html" title="class or interface in java.time" class="external-link"><code>Instant</code></a> obtained from the root entity</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="previous()">
<h3>previous</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="Entity.html" title="interface in io.fluxcapacitor.javaclient.modeling">Entity</a>&lt;<a href="LazyAggregateRoot.html" title="type parameter in LazyAggregateRoot">T</a>&gt;</span>&nbsp;<span class="element-name">previous</span>()</div>
<div class="block"><span class="description-from-type-label">Description copied from interface:&nbsp;<code><a href="Entity.html#previous()">Entity</a></code></span></div>
<div class="block">Retrieves the previous version of this entity.</div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="AggregateRoot.html#previous()">previous</a></code>&nbsp;in interface&nbsp;<code><a href="AggregateRoot.html" title="interface in io.fluxcapacitor.javaclient.modeling">AggregateRoot</a>&lt;<a href="LazyAggregateRoot.html" title="type parameter in LazyAggregateRoot">T</a>&gt;</code></dd>
<dt>Specified by:</dt>
<dd><code><a href="Entity.html#previous()">previous</a></code>&nbsp;in interface&nbsp;<code><a href="Entity.html" title="interface in io.fluxcapacitor.javaclient.modeling">Entity</a>&lt;<a href="LazyAggregateRoot.html" title="type parameter in LazyAggregateRoot">T</a>&gt;</code></dd>
<dt>Returns:</dt>
<dd>the previous state of the entity, or null if this is the first known version</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="get()">
<h3>get</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="LazyAggregateRoot.html" title="type parameter in LazyAggregateRoot">T</a></span>&nbsp;<span class="element-name">get</span>()</div>
<div class="block"><span class="description-from-type-label">Description copied from interface:&nbsp;<code><a href="Entity.html#get()">Entity</a></code></span></div>
<div class="block">Retrieves the current instance of the entity.</div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="Entity.html#get()">get</a></code>&nbsp;in interface&nbsp;<code><a href="Entity.html" title="interface in io.fluxcapacitor.javaclient.modeling">Entity</a>&lt;<a href="LazyAggregateRoot.html" title="type parameter in LazyAggregateRoot">T</a>&gt;</code></dd>
<dt>Returns:</dt>
<dd>the current instance of the entity or null if not initialized</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getLastCheckpoint()">
<h3>getLastCheckpoint</h3>
<div class="member-signature"><span class="modifiers">protected</span>&nbsp;<span class="return-type"><a href="Entity.html" title="interface in io.fluxcapacitor.javaclient.modeling">Entity</a>&lt;<a href="LazyAggregateRoot.html" title="type parameter in LazyAggregateRoot">T</a>&gt;</span>&nbsp;<span class="element-name">getLastCheckpoint</span>()</div>
</section>
</li>
<li>
<section class="detail" id="aliases()">
<h3>aliases</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/Collection.html" title="class or interface in java.util" class="external-link">Collection</a>&lt;?&gt;</span>&nbsp;<span class="element-name">aliases</span>()</div>
<div class="block"><span class="description-from-type-label">Description copied from interface:&nbsp;<code><a href="Entity.html#aliases()">Entity</a></code></span></div>
<div class="block">Retrieves a collection of aliases associated with this entity.</div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="Entity.html#aliases()">aliases</a></code>&nbsp;in interface&nbsp;<code><a href="Entity.html" title="interface in io.fluxcapacitor.javaclient.modeling">Entity</a>&lt;<a href="LazyAggregateRoot.html" title="type parameter in LazyAggregateRoot">T</a>&gt;</code></dd>
<dt>Returns:</dt>
<dd>a collection containing aliases of this entity, or an empty collection if no aliases are present</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="entities()">
<h3>entities</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/Collection.html" title="class or interface in java.util" class="external-link">Collection</a>&lt;? extends <a href="Entity.html" title="interface in io.fluxcapacitor.javaclient.modeling">Entity</a>&lt;?&gt;&gt;</span>&nbsp;<span class="element-name">entities</span>()</div>
<div class="block"><span class="description-from-type-label">Description copied from interface:&nbsp;<code><a href="Entity.html#entities()">Entity</a></code></span></div>
<div class="block">Retrieves child entities of this entity.</div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="Entity.html#entities()">entities</a></code>&nbsp;in interface&nbsp;<code><a href="Entity.html" title="interface in io.fluxcapacitor.javaclient.modeling">Entity</a>&lt;<a href="LazyAggregateRoot.html" title="type parameter in LazyAggregateRoot">T</a>&gt;</code></dd>
<dt>Returns:</dt>
<dd>a collection containing child entities.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="id()">
<h3>id</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a></span>&nbsp;<span class="element-name">id</span>()</div>
<div class="block"><span class="description-from-type-label">Description copied from interface:&nbsp;<code><a href="Entity.html#id()">Entity</a></code></span></div>
<div class="block">Retrieves the unique identifier of the entity.</div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="Entity.html#id()">id</a></code>&nbsp;in interface&nbsp;<code><a href="Entity.html" title="interface in io.fluxcapacitor.javaclient.modeling">Entity</a>&lt;<a href="LazyAggregateRoot.html" title="type parameter in LazyAggregateRoot">T</a>&gt;</code></dd>
<dt>Returns:</dt>
<dd>the unique identifier of the entity, or null if this entity has not been initialized yet</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="type()">
<h3>type</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Class.html" title="class or interface in java.lang" class="external-link">Class</a>&lt;<a href="LazyAggregateRoot.html" title="type parameter in LazyAggregateRoot">T</a>&gt;</span>&nbsp;<span class="element-name">type</span>()</div>
<div class="block"><span class="description-from-type-label">Description copied from interface:&nbsp;<code><a href="Entity.html#type()">Entity</a></code></span></div>
<div class="block">Retrieves the type of the entity.</div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="Entity.html#type()">type</a></code>&nbsp;in interface&nbsp;<code><a href="Entity.html" title="interface in io.fluxcapacitor.javaclient.modeling">Entity</a>&lt;<a href="LazyAggregateRoot.html" title="type parameter in LazyAggregateRoot">T</a>&gt;</code></dd>
<dt>Returns:</dt>
<dd>the class type of the entity, or null if the type has not been defined</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="idProperty()">
<h3>idProperty</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></span>&nbsp;<span class="element-name">idProperty</span>()</div>
<div class="block"><span class="description-from-type-label">Description copied from interface:&nbsp;<code><a href="Entity.html#idProperty()">Entity</a></code></span></div>
<div class="block">Retrieves the name of the property that serves as the unique identifier for the entity.</div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="Entity.html#idProperty()">idProperty</a></code>&nbsp;in interface&nbsp;<code><a href="Entity.html" title="interface in io.fluxcapacitor.javaclient.modeling">Entity</a>&lt;<a href="LazyAggregateRoot.html" title="type parameter in LazyAggregateRoot">T</a>&gt;</code></dd>
<dt>Returns:</dt>
<dd>the name of the identification property as a string</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="lastEventId()">
<h3>lastEventId</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></span>&nbsp;<span class="element-name">lastEventId</span>()</div>
<div class="block"><span class="description-from-type-label">Description copied from interface:&nbsp;<code><a href="Entity.html#lastEventId()">Entity</a></code></span></div>
<div class="block">Retrieves the identifier of the last event applied to the entity hierarchy.</div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="AggregateRoot.html#lastEventId()">lastEventId</a></code>&nbsp;in interface&nbsp;<code><a href="AggregateRoot.html" title="interface in io.fluxcapacitor.javaclient.modeling">AggregateRoot</a>&lt;<a href="LazyAggregateRoot.html" title="type parameter in LazyAggregateRoot">T</a>&gt;</code></dd>
<dt>Specified by:</dt>
<dd><code><a href="Entity.html#lastEventId()">lastEventId</a></code>&nbsp;in interface&nbsp;<code><a href="Entity.html" title="interface in io.fluxcapacitor.javaclient.modeling">Entity</a>&lt;<a href="LazyAggregateRoot.html" title="type parameter in LazyAggregateRoot">T</a>&gt;</code></dd>
<dt>Returns:</dt>
<dd>the identifier of the last event as a string, or null if no events have been recorded in the entity's
 aggregate</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="lastEventIndex()">
<h3>lastEventIndex</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Long.html" title="class or interface in java.lang" class="external-link">Long</a></span>&nbsp;<span class="element-name">lastEventIndex</span>()</div>
<div class="block"><span class="description-from-type-label">Description copied from interface:&nbsp;<code><a href="Entity.html#lastEventIndex()">Entity</a></code></span></div>
<div class="block">Retrieves the index of the last event applied to this entity hierarchy.</div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="AggregateRoot.html#lastEventIndex()">lastEventIndex</a></code>&nbsp;in interface&nbsp;<code><a href="AggregateRoot.html" title="interface in io.fluxcapacitor.javaclient.modeling">AggregateRoot</a>&lt;<a href="LazyAggregateRoot.html" title="type parameter in LazyAggregateRoot">T</a>&gt;</code></dd>
<dt>Specified by:</dt>
<dd><code><a href="Entity.html#lastEventIndex()">lastEventIndex</a></code>&nbsp;in interface&nbsp;<code><a href="Entity.html" title="interface in io.fluxcapacitor.javaclient.modeling">Entity</a>&lt;<a href="LazyAggregateRoot.html" title="type parameter in LazyAggregateRoot">T</a>&gt;</code></dd>
<dt>Returns:</dt>
<dd>the index of the last event as a <code>Long</code>, or null if no events have been recorded for the entity's
 aggregate</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="update(java.util.function.UnaryOperator)">
<h3>update</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="Entity.html" title="interface in io.fluxcapacitor.javaclient.modeling">Entity</a>&lt;<a href="LazyAggregateRoot.html" title="type parameter in LazyAggregateRoot">T</a>&gt;</span>&nbsp;<span class="element-name">update</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/function/UnaryOperator.html" title="class or interface in java.util.function" class="external-link">UnaryOperator</a>&lt;<a href="LazyAggregateRoot.html" title="type parameter in LazyAggregateRoot">T</a>&gt;&nbsp;function)</span></div>
<div class="block"><span class="description-from-type-label">Description copied from interface:&nbsp;<code><a href="Entity.html#update(java.util.function.UnaryOperator)">Entity</a></code></span></div>
<div class="block">Updates the current entity's value using the specified unary operator and returns a new entity containing the
 updated value.</div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="Entity.html#update(java.util.function.UnaryOperator)">update</a></code>&nbsp;in interface&nbsp;<code><a href="Entity.html" title="interface in io.fluxcapacitor.javaclient.modeling">Entity</a>&lt;<a href="LazyAggregateRoot.html" title="type parameter in LazyAggregateRoot">T</a>&gt;</code></dd>
<dt>Parameters:</dt>
<dd><code>function</code> - the unary operator to apply to the current entity's value</dd>
<dt>Returns:</dt>
<dd>a new entity containing the updated value after applying the function</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="apply(io.fluxcapacitor.javaclient.common.Message)">
<h3>apply</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="Entity.html" title="interface in io.fluxcapacitor.javaclient.modeling">Entity</a>&lt;<a href="LazyAggregateRoot.html" title="type parameter in LazyAggregateRoot">T</a>&gt;</span>&nbsp;<span class="element-name">apply</span><wbr><span class="parameters">(<a href="../common/Message.html" title="class in io.fluxcapacitor.javaclient.common">Message</a>&nbsp;eventMessage)</span></div>
<div class="block"><span class="description-from-type-label">Description copied from interface:&nbsp;<code><a href="Entity.html#apply(io.fluxcapacitor.javaclient.common.Message)">Entity</a></code></span></div>
<div class="block">Applies the given message to the entity.</div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="Entity.html#apply(io.fluxcapacitor.javaclient.common.Message)">apply</a></code>&nbsp;in interface&nbsp;<code><a href="Entity.html" title="interface in io.fluxcapacitor.javaclient.modeling">Entity</a>&lt;<a href="LazyAggregateRoot.html" title="type parameter in LazyAggregateRoot">T</a>&gt;</code></dd>
<dt>Parameters:</dt>
<dd><code>eventMessage</code> - the message representing the event to be applied</dd>
<dt>Returns:</dt>
<dd>the updated or newly created Entity of type T</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="commit()">
<h3>commit</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="Entity.html" title="interface in io.fluxcapacitor.javaclient.modeling">Entity</a>&lt;<a href="LazyAggregateRoot.html" title="type parameter in LazyAggregateRoot">T</a>&gt;</span>&nbsp;<span class="element-name">commit</span>()</div>
<div class="block"><span class="description-from-type-label">Description copied from interface:&nbsp;<code><a href="Entity.html#commit()">Entity</a></code></span></div>
<div class="block">Commits the current state of the entity, persisting any changes made to it. This method ensures that the
 modifications are saved. Typically, it is unnecessary to invoke this manually as it is automatically invoked
 after the current handler or consumer batch has completed.</div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="Entity.html#commit()">commit</a></code>&nbsp;in interface&nbsp;<code><a href="Entity.html" title="interface in io.fluxcapacitor.javaclient.modeling">Entity</a>&lt;<a href="LazyAggregateRoot.html" title="type parameter in LazyAggregateRoot">T</a>&gt;</code></dd>
<dt>Returns:</dt>
<dd>The updated entity after the commit operation is successfully completed.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="withType(java.lang.Class)">
<h3>withType</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="Entity.html" title="interface in io.fluxcapacitor.javaclient.modeling">Entity</a>&lt;<a href="LazyAggregateRoot.html" title="type parameter in LazyAggregateRoot">T</a>&gt;</span>&nbsp;<span class="element-name">withType</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Class.html" title="class or interface in java.lang" class="external-link">Class</a>&lt;<a href="LazyAggregateRoot.html" title="type parameter in LazyAggregateRoot">T</a>&gt;&nbsp;type)</span></div>
<div class="block"><span class="description-from-type-label">Description copied from interface:&nbsp;<code><a href="Entity.html#withType(java.lang.Class)">Entity</a></code></span></div>
<div class="block">Sets the type of the entity to the specified class and returns the updated entity.</div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="Entity.html#withType(java.lang.Class)">withType</a></code>&nbsp;in interface&nbsp;<code><a href="Entity.html" title="interface in io.fluxcapacitor.javaclient.modeling">Entity</a>&lt;<a href="LazyAggregateRoot.html" title="type parameter in LazyAggregateRoot">T</a>&gt;</code></dd>
<dt>Parameters:</dt>
<dd><code>type</code> - the class representing the type to be set for the entity</dd>
<dt>Returns:</dt>
<dd>the updated entity with the specified type</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="withSequenceNumber(long)">
<h3>withSequenceNumber</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="Entity.html" title="interface in io.fluxcapacitor.javaclient.modeling">Entity</a>&lt;<a href="LazyAggregateRoot.html" title="type parameter in LazyAggregateRoot">T</a>&gt;</span>&nbsp;<span class="element-name">withSequenceNumber</span><wbr><span class="parameters">(long&nbsp;sequenceNumber)</span></div>
<div class="block"><span class="description-from-type-label">Description copied from interface:&nbsp;<code><a href="Entity.html#withSequenceNumber(long)">Entity</a></code></span></div>
<div class="block">Returns an updated entity based on this with the specified sequence number.</div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="AggregateRoot.html#withSequenceNumber(long)">withSequenceNumber</a></code>&nbsp;in interface&nbsp;<code><a href="AggregateRoot.html" title="interface in io.fluxcapacitor.javaclient.modeling">AggregateRoot</a>&lt;<a href="LazyAggregateRoot.html" title="type parameter in LazyAggregateRoot">T</a>&gt;</code></dd>
<dt>Specified by:</dt>
<dd><code><a href="Entity.html#withSequenceNumber(long)">withSequenceNumber</a></code>&nbsp;in interface&nbsp;<code><a href="Entity.html" title="interface in io.fluxcapacitor.javaclient.modeling">Entity</a>&lt;<a href="LazyAggregateRoot.html" title="type parameter in LazyAggregateRoot">T</a>&gt;</code></dd>
<dt>Parameters:</dt>
<dd><code>sequenceNumber</code> - the sequence number to assign to the entity</dd>
<dt>Returns:</dt>
<dd>the updated entity with the specified sequence number, or null if the entity could not be found in the
 entity hierarchy</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="assertLegal(java.lang.Object)">
<h3>assertLegal</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="type-parameters">&lt;E extends <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Exception.html" title="class or interface in java.lang" class="external-link">Exception</a>&gt;</span>&nbsp;<span class="return-type"><a href="Entity.html" title="interface in io.fluxcapacitor.javaclient.modeling">Entity</a>&lt;<a href="LazyAggregateRoot.html" title="type parameter in LazyAggregateRoot">T</a>&gt;</span>&nbsp;<span class="element-name">assertLegal</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a>&nbsp;update)</span>
                                            throws <span class="exceptions">E</span></div>
<div class="block"><span class="description-from-type-label">Description copied from interface:&nbsp;<code><a href="Entity.html#assertLegal(java.lang.Object)">Entity</a></code></span></div>
<div class="block">Verifies that the provided update is legal given the current state of the aggregate. If so, the entity is
 returned; otherwise, it throws an appropriate exception.</div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="Entity.html#assertLegal(java.lang.Object)">assertLegal</a></code>&nbsp;in interface&nbsp;<code><a href="Entity.html" title="interface in io.fluxcapacitor.javaclient.modeling">Entity</a>&lt;<a href="LazyAggregateRoot.html" title="type parameter in LazyAggregateRoot">T</a>&gt;</code></dd>
<dt>Type Parameters:</dt>
<dd><code>E</code> - the type of exception expected if the update is not legal</dd>
<dt>Parameters:</dt>
<dd><code>update</code> - the update to be validated for compliance with the required rules</dd>
<dt>Returns:</dt>
<dd>the entity if the update is legal</dd>
<dt>Throws:</dt>
<dd><code>E</code> - if the update fails to meet legal requirements</dd>
</dl>
</section>
</li>
</ul>
</section>
</li>
</ul>
</section>
<!-- ========= END OF CLASS DATA ========= -->
</main>
<footer role="contentinfo">
<hr>
<p class="legal-copy"><small>Copyright &#169; 2025 <a href="https://github.com/flux-capacitor-io/flux-capacitor-client">Flux Capacitor</a>. All rights reserved.</small></p>
</footer>
</div>
</div>
</body>
</html>
