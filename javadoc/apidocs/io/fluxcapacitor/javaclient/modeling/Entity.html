<!DOCTYPE HTML>
<html lang>
<head>
<meta http-equiv="Cache-Control" content="no-store, no-cache, must-revalidate, max-age=0" />
<meta http-equiv="Pragma" content="no-cache" />
<meta http-equiv="Expires" content="0" />
<!-- Generated by javadoc (21) on Mon Jun 09 15:54:39 UTC 2025 -->
<title>Entity (Flux Capacitor Client 0.1188.0 API)</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="dc.created" content="2025-06-09">
<meta name="description" content="declaration: package: io.fluxcapacitor.javaclient.modeling, interface: Entity">
<meta name="generator" content="javadoc/ClassWriterImpl">
<link rel="stylesheet" type="text/css" href="../../../../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../script-dir/jquery-ui.min.css" title="Style">
<script type="text/javascript" src="../../../../script.js"></script>
<script type="text/javascript" src="../../../../script-dir/jquery-3.7.1.min.js"></script>
<script type="text/javascript" src="../../../../script-dir/jquery-ui.min.js"></script>
</head>
<body class="class-declaration-page">
<script type="text/javascript">var pathtoroot = "../../../../";
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<div class="flex-box">
<header role="banner" class="flex-header">
<nav role="navigation">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="top-nav" id="navbar-top"><button id="navbar-toggle-button" aria-controls="navbar-top" aria-expanded="false" aria-label="Toggle navigation links"><span class="nav-bar-toggle-icon">&nbsp;</span><span class="nav-bar-toggle-icon">&nbsp;</span><span class="nav-bar-toggle-icon">&nbsp;</span></button>
<div class="skip-nav"><a href="#skip-navbar-top" title="Skip navigation links">Skip navigation links</a></div>
<ul id="navbar-top-firstrow" class="nav-list" title="Navigation">
<li><a href="../../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="nav-bar-cell1-rev">Class</li>
<li><a href="class-use/Entity.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html#class">Help</a></li>
</ul>
<ul class="sub-nav-list-small">
<li>
<p>Summary:</p>
<ul>
<li>Nested</li>
<li><a href="#field-summary">Field</a></li>
<li>Constr</li>
<li><a href="#method-summary">Method</a></li>
</ul>
</li>
<li>
<p>Detail:</p>
<ul>
<li><a href="#field-detail">Field</a></li>
<li>Constr</li>
<li><a href="#method-detail">Method</a></li>
</ul>
</li>
</ul>
</div>
<div class="sub-nav">
<div id="navbar-sub-list">
<ul class="sub-nav-list">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field-summary">Field</a>&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method-summary">Method</a></li>
</ul>
<ul class="sub-nav-list">
<li>Detail:&nbsp;</li>
<li><a href="#field-detail">Field</a>&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method-detail">Method</a></li>
</ul>
</div>
<div class="nav-list-search"><a href="../../../../search.html">SEARCH</a>
<input type="text" id="search-input" disabled placeholder="Search">
<input type="reset" id="reset-button" disabled value="reset">
</div>
</div>
<!-- ========= END OF TOP NAVBAR ========= -->
<span class="skip-nav" id="skip-navbar-top"></span></nav>
</header>
<div class="flex-content">
<main role="main">
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="sub-title"><span class="package-label-in-type">Package</span>&nbsp;<a href="package-summary.html">io.fluxcapacitor.javaclient.modeling</a></div>
<h1 title="Interface Entity" class="title">Interface Entity&lt;T&gt;</h1>
</div>
<section class="class-description" id="class-description">
<dl class="notes">
<dt>Type Parameters:</dt>
<dd><code>T</code> - the type of the entity's state, typically an immutable value object like UserProfile</dd>
</dl>
<dl class="notes">
<dt>All Known Subinterfaces:</dt>
<dd><code><a href="AggregateRoot.html" title="interface in io.fluxcapacitor.javaclient.modeling">AggregateRoot</a>&lt;T&gt;</code></dd>
</dl>
<dl class="notes">
<dt>All Known Implementing Classes:</dt>
<dd><code><a href="DelegatingEntity.html" title="class in io.fluxcapacitor.javaclient.modeling">DelegatingEntity</a></code>, <code><a href="ImmutableAggregateRoot.html" title="class in io.fluxcapacitor.javaclient.modeling">ImmutableAggregateRoot</a></code>, <code><a href="ImmutableEntity.html" title="class in io.fluxcapacitor.javaclient.modeling">ImmutableEntity</a></code>, <code><a href="LazyAggregateRoot.html" title="class in io.fluxcapacitor.javaclient.modeling">LazyAggregateRoot</a></code>, <code><a href="ModifiableAggregateRoot.html" title="class in io.fluxcapacitor.javaclient.modeling">ModifiableAggregateRoot</a></code>, <code><a href="ModifiableEntity.html" title="class in io.fluxcapacitor.javaclient.modeling">ModifiableEntity</a></code>, <code><a href="NoOpEntity.html" title="class in io.fluxcapacitor.javaclient.modeling">NoOpEntity</a></code>, <code><a href="SideEffectFreeEntity.html" title="class in io.fluxcapacitor.javaclient.modeling">SideEffectFreeEntity</a></code></dd>
</dl>
<hr>
<div class="type-signature"><span class="modifiers">public interface </span><span class="element-name type-name-label">Entity&lt;T&gt;</span></div>
<div class="block">Represents an entity that encapsulates domain behavior and state. An entity is a core construct of domain modeling
 and may have a unique identity, a set of attributes, and relationships with other entities. This interface defines
 the contract for managing an entity's type, identity, lifecycle, relationships, and operations that allow state
 mutations with event sourcing.</div>
</section>
<section class="summary">
<ul class="summary-list">
<!-- =========== FIELD SUMMARY =========== -->
<li>
<section class="field-summary" id="field-summary">
<h2>Field Summary</h2>
<div class="caption"><span>Fields</span></div>
<div class="summary-table three-column-summary">
<div class="table-header col-first">Modifier and Type</div>
<div class="table-header col-second">Field</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color"><code>static final <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></code></div>
<div class="col-second even-row-color"><code><a href="#AGGREGATE_ID_METADATA_KEY" class="member-name-link">AGGREGATE_ID_METADATA_KEY</a></code></div>
<div class="col-last even-row-color">
<div class="block">A constant key used for identifying the aggregate ID in metadata of events.</div>
</div>
<div class="col-first odd-row-color"><code>static final <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></code></div>
<div class="col-second odd-row-color"><code><a href="#AGGREGATE_SN_METADATA_KEY" class="member-name-link">AGGREGATE_SN_METADATA_KEY</a></code></div>
<div class="col-last odd-row-color">
<div class="block">A constant key used for identifying the sequence number of an applied event in metadata.</div>
</div>
<div class="col-first even-row-color"><code>static final <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></code></div>
<div class="col-second even-row-color"><code><a href="#AGGREGATE_TYPE_METADATA_KEY" class="member-name-link">AGGREGATE_TYPE_METADATA_KEY</a></code></div>
<div class="col-last even-row-color">
<div class="block">A constant key used for identifying the aggregate type in metadata of events.</div>
</div>
<div class="col-first odd-row-color"><code>static final <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/ThreadLocal.html" title="class or interface in java.lang" class="external-link">ThreadLocal</a><wbr>&lt;<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Boolean.html" title="class or interface in java.lang" class="external-link">Boolean</a>&gt;</code></div>
<div class="col-second odd-row-color"><code><a href="#applying" class="member-name-link">applying</a></code></div>
<div class="col-last odd-row-color">&nbsp;</div>
<div class="col-first even-row-color"><code>static final <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/ThreadLocal.html" title="class or interface in java.lang" class="external-link">ThreadLocal</a><wbr>&lt;<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Boolean.html" title="class or interface in java.lang" class="external-link">Boolean</a>&gt;</code></div>
<div class="col-second even-row-color"><code><a href="#loading" class="member-name-link">loading</a></code></div>
<div class="col-last even-row-color">&nbsp;</div>
</div>
</section>
</li>
<!-- ========== METHOD SUMMARY =========== -->
<li>
<section class="method-summary" id="method-summary">
<h2>Method Summary</h2>
<div id="method-summary-table">
<div class="table-tabs" role="tablist" aria-orientation="horizontal"><button id="method-summary-table-tab0" role="tab" aria-selected="true" aria-controls="method-summary-table.tabpanel" tabindex="0" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table', 3)" class="active-table-tab">All Methods</button><button id="method-summary-table-tab1" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab1', 3)" class="table-tab">Static Methods</button><button id="method-summary-table-tab2" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab2', 3)" class="table-tab">Instance Methods</button><button id="method-summary-table-tab3" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab3', 3)" class="table-tab">Abstract Methods</button><button id="method-summary-table-tab5" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab5', 3)" class="table-tab">Default Methods</button></div>
<div id="method-summary-table.tabpanel" role="tabpanel" aria-labelledby="method-summary-table-tab0">
<div class="summary-table three-column-summary">
<div class="table-header col-first">Modifier and Type</div>
<div class="table-header col-second">Method</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/Collection.html" title="class or interface in java.util" class="external-link">Collection</a><wbr>&lt;?&gt;</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#aliases()" class="member-name-link">aliases</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block">Retrieves a collection of aliases associated with this entity.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab5"><code>default <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/stream/Stream.html" title="class or interface in java.util.stream" class="external-link">Stream</a><wbr>&lt;<a href="Entity.html" title="interface in io.fluxcapacitor.javaclient.modeling">Entity</a>&lt;?&gt;&gt;</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab5"><code><a href="#allEntities()" class="member-name-link">allEntities</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab5">
<div class="block">Retrieves a stream of all entities, including the current entity and all nested entities.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab5"><code>default <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/List.html" title="class or interface in java.util" class="external-link">List</a><wbr>&lt;<a href="Entity.html" title="interface in io.fluxcapacitor.javaclient.modeling">Entity</a>&lt;?&gt;&gt;</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab5"><code><a href="#ancestors()" class="member-name-link">ancestors</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab5">
<div class="block">Retrieves a list of the ancestor entities for the current entity.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab5"><code>default &lt;A&gt;&nbsp;A</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab5"><code><a href="#ancestorValue(java.lang.Class)" class="member-name-link">ancestorValue</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Class.html" title="class or interface in java.lang" class="external-link">Class</a>&lt;A&gt;&nbsp;ancestorType)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab5">
<div class="block">Retrieves the value of the first ancestor entity in the hierarchy that matches the specified type.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="Entity.html" title="interface in io.fluxcapacitor.javaclient.modeling">Entity</a><wbr>&lt;<a href="Entity.html" title="type parameter in Entity">T</a>&gt;</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#apply(io.fluxcapacitor.javaclient.common.Message)" class="member-name-link">apply</a><wbr>(<a href="../common/Message.html" title="class in io.fluxcapacitor.javaclient.common">Message</a>&nbsp;eventMessage)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block">Applies the given message to the entity.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab5"><code>default <a href="Entity.html" title="interface in io.fluxcapacitor.javaclient.modeling">Entity</a><wbr>&lt;<a href="Entity.html" title="type parameter in Entity">T</a>&gt;</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab5"><code><a href="#apply(io.fluxcapacitor.javaclient.common.serialization.DeserializingMessage)" class="member-name-link">apply</a><wbr>(<a href="../common/serialization/DeserializingMessage.html" title="class in io.fluxcapacitor.javaclient.common.serialization">DeserializingMessage</a>&nbsp;eventMessage)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab5">
<div class="block">Applies the given deserializing message to the entity.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab5"><code>default <a href="Entity.html" title="interface in io.fluxcapacitor.javaclient.modeling">Entity</a><wbr>&lt;<a href="Entity.html" title="type parameter in Entity">T</a>&gt;</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab5"><code><a href="#apply(java.lang.Object)" class="member-name-link">apply</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a>&nbsp;event)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab5">
<div class="block">Processes the given event and applies the corresponding logic based on its type.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab5"><code>default <a href="Entity.html" title="interface in io.fluxcapacitor.javaclient.modeling">Entity</a><wbr>&lt;<a href="Entity.html" title="type parameter in Entity">T</a>&gt;</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab5"><code><a href="#apply(java.lang.Object...)" class="member-name-link">apply</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a>...&nbsp;events)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab5">
<div class="block">Applies the given events to reconstruct or update the entity's state.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab5"><code>default <a href="Entity.html" title="interface in io.fluxcapacitor.javaclient.modeling">Entity</a><wbr>&lt;<a href="Entity.html" title="type parameter in Entity">T</a>&gt;</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab5"><code><a href="#apply(java.lang.Object,io.fluxcapacitor.common.api.Metadata)" class="member-name-link">apply</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a>&nbsp;event,
 <a href="../../common/api/Metadata.html" title="class in io.fluxcapacitor.common.api">Metadata</a>&nbsp;metadata)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab5">
<div class="block">Applies an event and associated metadata to produce a resulting entity.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab5"><code>default <a href="Entity.html" title="interface in io.fluxcapacitor.javaclient.modeling">Entity</a><wbr>&lt;<a href="Entity.html" title="type parameter in Entity">T</a>&gt;</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab5"><code><a href="#apply(java.util.Collection)" class="member-name-link">apply</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/Collection.html" title="class or interface in java.util" class="external-link">Collection</a>&lt;?&gt;&nbsp;events)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab5">
<div class="block">Applies a collection of events to the current entity, returning an updated entity.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab5"><code>default <a href="Entity.html" title="interface in io.fluxcapacitor.javaclient.modeling">Entity</a><wbr>&lt;<a href="Entity.html" title="type parameter in Entity">T</a>&gt;</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab5"><code><a href="#assertAndApply(java.lang.Object)" class="member-name-link">assertAndApply</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a>&nbsp;payloadOrMessage)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab5">
<div class="block">Verifies that the provided update is legal given the current state of the aggregate and on success applies it to
 the aggregate.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab5"><code>default <a href="Entity.html" title="interface in io.fluxcapacitor.javaclient.modeling">Entity</a><wbr>&lt;<a href="Entity.html" title="type parameter in Entity">T</a>&gt;</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab5"><code><a href="#assertAndApply(java.lang.Object...)" class="member-name-link">assertAndApply</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a>...&nbsp;updates)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab5">
<div class="block">Applies a number of updates to the current entity after performing necessary legality assertions.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab5"><code>default <a href="Entity.html" title="interface in io.fluxcapacitor.javaclient.modeling">Entity</a><wbr>&lt;<a href="Entity.html" title="type parameter in Entity">T</a>&gt;</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab5"><code><a href="#assertAndApply(java.lang.Object,io.fluxcapacitor.common.api.Metadata)" class="member-name-link">assertAndApply</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a>&nbsp;payload,
 <a href="../../common/api/Metadata.html" title="class in io.fluxcapacitor.common.api">Metadata</a>&nbsp;metadata)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab5">
<div class="block">Verifies that the provided update is legal given the current state of the aggregate and on success applies it to
 the aggregate.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab5"><code>default <a href="Entity.html" title="interface in io.fluxcapacitor.javaclient.modeling">Entity</a><wbr>&lt;<a href="Entity.html" title="type parameter in Entity">T</a>&gt;</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab5"><code><a href="#assertAndApply(java.util.Collection)" class="member-name-link">assertAndApply</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/Collection.html" title="class or interface in java.util" class="external-link">Collection</a>&lt;?&gt;&nbsp;updates)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab5">
<div class="block">Applies a collection of updates sequentially to the current entity after asserting each is legal, and returns the
 resulting entity.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code>&lt;E extends <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Exception.html" title="class or interface in java.lang" class="external-link">Exception</a>&gt;<br><a href="Entity.html" title="interface in io.fluxcapacitor.javaclient.modeling">Entity</a><wbr>&lt;<a href="Entity.html" title="type parameter in Entity">T</a>&gt;</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#assertLegal(java.lang.Object)" class="member-name-link">assertLegal</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a>&nbsp;update)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block">Verifies that the provided update is legal given the current state of the aggregate.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab5"><code>default <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/Set.html" title="class or interface in java.util" class="external-link">Set</a><wbr>&lt;<a href="../../common/api/modeling/Relationship.html" title="class in io.fluxcapacitor.common.api.modeling">Relationship</a>&gt;</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab5"><code><a href="#associations(io.fluxcapacitor.javaclient.modeling.Entity)" class="member-name-link">associations</a><wbr>(<a href="Entity.html" title="interface in io.fluxcapacitor.javaclient.modeling">Entity</a>&lt;?&gt;&nbsp;previous)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab5">
<div class="block">Determines the set of new associations (relationships) that are present in the current entity but not in the
 provided previous entity.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="Entity.html" title="interface in io.fluxcapacitor.javaclient.modeling">Entity</a><wbr>&lt;<a href="Entity.html" title="type parameter in Entity">T</a>&gt;</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#commit()" class="member-name-link">commit</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block">Commits the current state of the entity, persisting any changes made to it.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab5"><code>default int</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab5"><code><a href="#depth()" class="member-name-link">depth</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab5">
<div class="block">Calculates the depth level of the current entity in the aggregate.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab5"><code>default <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/Set.html" title="class or interface in java.util" class="external-link">Set</a><wbr>&lt;<a href="../../common/api/modeling/Relationship.html" title="class in io.fluxcapacitor.common.api.modeling">Relationship</a>&gt;</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab5"><code><a href="#dissociations(io.fluxcapacitor.javaclient.modeling.Entity)" class="member-name-link">dissociations</a><wbr>(<a href="Entity.html" title="interface in io.fluxcapacitor.javaclient.modeling">Entity</a>&lt;?&gt;&nbsp;previous)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab5">
<div class="block">Identifies and returns the set of relationships that are dissociated when compared to the relationships of the
 given previous entity.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/Collection.html" title="class or interface in java.util" class="external-link">Collection</a><wbr>&lt;? extends <a href="Entity.html" title="interface in io.fluxcapacitor.javaclient.modeling">Entity</a>&lt;?&gt;&gt;</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#entities()" class="member-name-link">entities</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block">Retrieves child entities of this entity.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="Entity.html" title="type parameter in Entity">T</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#get()" class="member-name-link">get</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block">Retrieves the current instance of the entity.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab1"><code>static <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab1"><code><a href="#getAggregateId(io.fluxcapacitor.common.api.HasMetadata)" class="member-name-link">getAggregateId</a><wbr>(<a href="../../common/api/HasMetadata.html" title="interface in io.fluxcapacitor.common.api">HasMetadata</a>&nbsp;message)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab1">
<div class="block">Retrieves the aggregate ID from the metadata of the given message.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab1"><code>static <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Class.html" title="class or interface in java.lang" class="external-link">Class</a><wbr>&lt;?&gt;</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab1"><code><a href="#getAggregateType(io.fluxcapacitor.common.api.HasMetadata)" class="member-name-link">getAggregateType</a><wbr>(<a href="../../common/api/HasMetadata.html" title="interface in io.fluxcapacitor.common.api">HasMetadata</a>&nbsp;message)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab1">
<div class="block">Retrieves the aggregate type from the metadata of the given message.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab5"><code>default &lt;C&gt;&nbsp;<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/Optional.html" title="class or interface in java.util" class="external-link">Optional</a><wbr>&lt;<a href="Entity.html" title="interface in io.fluxcapacitor.javaclient.modeling">Entity</a>&lt;C&gt;&gt;</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab5"><code><a href="#getEntity(java.lang.Object)" class="member-name-link">getEntity</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a>&nbsp;entityId)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab5">
<div class="block">Retrieves an entity based on the provided entity ID.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab1"><code>static <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Long.html" title="class or interface in java.lang" class="external-link">Long</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab1"><code><a href="#getSequenceNumber(io.fluxcapacitor.common.api.HasMetadata)" class="member-name-link">getSequenceNumber</a><wbr>(<a href="../../common/api/HasMetadata.html" title="interface in io.fluxcapacitor.common.api">HasMetadata</a>&nbsp;message)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab1">
<div class="block">Retrieves the sequence number from the metadata of the given message.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab1"><code>static boolean</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab1"><code><a href="#hasSequenceNumber(io.fluxcapacitor.common.api.HasMetadata)" class="member-name-link">hasSequenceNumber</a><wbr>(<a href="../../common/api/HasMetadata.html" title="interface in io.fluxcapacitor.common.api">HasMetadata</a>&nbsp;message)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab1">
<div class="block">Determines whether the given message contains a sequence number in its metadata.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab5"><code>default <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Long.html" title="class or interface in java.lang" class="external-link">Long</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab5"><code><a href="#highestEventIndex()" class="member-name-link">highestEventIndex</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab5">
<div class="block">Retrieves the highest event index associated with the aggregate.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#id()" class="member-name-link">id</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block">Retrieves the unique identifier of the entity.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#idProperty()" class="member-name-link">idProperty</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block">Retrieves the name of the property that serves as the unique identifier for the entity.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab5"><code>default <a href="Entity.html" title="interface in io.fluxcapacitor.javaclient.modeling">Entity</a><wbr>&lt;<a href="Entity.html" title="type parameter in Entity">T</a>&gt;</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab5"><code><a href="#ifPresent(java.util.function.UnaryOperator)" class="member-name-link">ifPresent</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/function/UnaryOperator.html" title="class or interface in java.util.function" class="external-link">UnaryOperator</a>&lt;<a href="Entity.html" title="interface in io.fluxcapacitor.javaclient.modeling">Entity</a>&lt;<a href="Entity.html" title="type parameter in Entity">T</a>&gt;&gt;&nbsp;action)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab5">
<div class="block">Applies the specified action to this entity if it is present, returning the result of the action.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab1"><code>static boolean</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab1"><code><a href="#isApplying()" class="member-name-link">isApplying</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab1">
<div class="block">Indicates whether any entity is currently being applied to in this thread.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab5"><code>default boolean</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab5"><code><a href="#isEmpty()" class="member-name-link">isEmpty</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab5">
<div class="block">Checks if the current entity instance is empty.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab1"><code>static boolean</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab1"><code><a href="#isLoading()" class="member-name-link">isLoading</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab1">
<div class="block">Indicates whether any entity is currently being loaded in this thread.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab5"><code>default boolean</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab5"><code><a href="#isPresent()" class="member-name-link">isPresent</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab5">
<div class="block">Checks whether the entity is considered present.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab5"><code>default boolean</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab5"><code><a href="#isRoot()" class="member-name-link">isRoot</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab5">
<div class="block">Determines whether the current entity is the root entity in its hierarchical structure.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab5"><code>default <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab5"><code><a href="#lastEventId()" class="member-name-link">lastEventId</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab5">
<div class="block">Retrieves the identifier of the last event applied to the entity hierarchy.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab5"><code>default <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Long.html" title="class or interface in java.lang" class="external-link">Long</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab5"><code><a href="#lastEventIndex()" class="member-name-link">lastEventIndex</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab5">
<div class="block">Retrieves the index of the last event applied to this entity hierarchy.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab5"><code>default &lt;U&gt;&nbsp;<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/Optional.html" title="class or interface in java.util" class="external-link">Optional</a><wbr>&lt;U&gt;</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab5"><code><a href="#mapIfPresent(java.util.function.Function)" class="member-name-link">mapIfPresent</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/function/Function.html" title="class or interface in java.util.function" class="external-link">Function</a>&lt;<a href="Entity.html" title="interface in io.fluxcapacitor.javaclient.modeling">Entity</a>&lt;<a href="Entity.html" title="type parameter in Entity">T</a>&gt;,<wbr>U&gt;&nbsp;action)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab5">
<div class="block">Maps the entity to a new value if the entity is present.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="Entity.html" title="interface in io.fluxcapacitor.javaclient.modeling">Entity</a><wbr>&lt;?&gt;</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#parent()" class="member-name-link">parent</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block">Retrieves the parent entity of the current entity.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab5"><code>default <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/Optional.html" title="class or interface in java.util" class="external-link">Optional</a><wbr>&lt;<a href="Entity.html" title="interface in io.fluxcapacitor.javaclient.modeling">Entity</a>&lt;<a href="Entity.html" title="type parameter in Entity">T</a>&gt;&gt;</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab5"><code><a href="#playBackToCondition(java.util.function.Predicate)" class="member-name-link">playBackToCondition</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/function/Predicate.html" title="class or interface in java.util.function" class="external-link">Predicate</a>&lt;<a href="Entity.html" title="interface in io.fluxcapacitor.javaclient.modeling">Entity</a>&lt;<a href="Entity.html" title="type parameter in Entity">T</a>&gt;&gt;&nbsp;condition)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab5">
<div class="block">Plays back through older versions of this entity until a specified condition is met.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab5"><code>default <a href="Entity.html" title="interface in io.fluxcapacitor.javaclient.modeling">Entity</a><wbr>&lt;<a href="Entity.html" title="type parameter in Entity">T</a>&gt;</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab5"><code><a href="#playBackToEvent(java.lang.Long,java.lang.String)" class="member-name-link">playBackToEvent</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Long.html" title="class or interface in java.lang" class="external-link">Long</a>&nbsp;eventIndex,
 <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;eventId)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab5">
<div class="block">Finds a version of this entity matching the given eventIndex or eventId.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab5"><code>default <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Iterable.html" title="class or interface in java.lang" class="external-link">Iterable</a><wbr>&lt;<a href="Entity.html" title="interface in io.fluxcapacitor.javaclient.modeling">Entity</a>&lt;?&gt;&gt;</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab5"><code><a href="#possibleTargets(java.lang.Object)" class="member-name-link">possibleTargets</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a>&nbsp;update)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab5">
<div class="block">Determines the possible target entities for the given update.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab5"><code>default <a href="Entity.html" title="interface in io.fluxcapacitor.javaclient.modeling">Entity</a><wbr>&lt;<a href="Entity.html" title="type parameter in Entity">T</a>&gt;</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab5"><code><a href="#previous()" class="member-name-link">previous</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab5">
<div class="block">Retrieves the previous version of this entity.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab5"><code>default <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/Set.html" title="class or interface in java.util" class="external-link">Set</a><wbr>&lt;<a href="../../common/api/modeling/Relationship.html" title="class in io.fluxcapacitor.common.api.modeling">Relationship</a>&gt;</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab5"><code><a href="#relationships()" class="member-name-link">relationships</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab5">
<div class="block">Retrieves the set of relationships between the aggregate root and all its entities.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab5"><code>default <a href="Entity.html" title="interface in io.fluxcapacitor.javaclient.modeling">Entity</a><wbr>&lt;?&gt;</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab5"><code><a href="#root()" class="member-name-link">root</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab5">
<div class="block">Retrieves the root entity in the hierarchy.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab5"><code>default <a href="Aggregate.html" title="annotation interface in io.fluxcapacitor.javaclient.modeling">Aggregate</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab5"><code><a href="#rootAnnotation()" class="member-name-link">rootAnnotation</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab5">
<div class="block">Retrieves the root-level annotation of the aggregate, if any.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab5"><code>default long</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab5"><code><a href="#sequenceNumber()" class="member-name-link">sequenceNumber</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab5">
<div class="block">Retrieves the sequence number of the current entity.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab5"><code>default <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/time/Instant.html" title="class or interface in java.time" class="external-link">Instant</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab5"><code><a href="#timestamp()" class="member-name-link">timestamp</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab5">
<div class="block">Retrieves the timestamp of the entity.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Class.html" title="class or interface in java.lang" class="external-link">Class</a><wbr>&lt;<a href="Entity.html" title="type parameter in Entity">T</a>&gt;</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#type()" class="member-name-link">type</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block">Retrieves the type of the entity.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="Entity.html" title="interface in io.fluxcapacitor.javaclient.modeling">Entity</a><wbr>&lt;<a href="Entity.html" title="type parameter in Entity">T</a>&gt;</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#update(java.util.function.UnaryOperator)" class="member-name-link">update</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/function/UnaryOperator.html" title="class or interface in java.util.function" class="external-link">UnaryOperator</a>&lt;<a href="Entity.html" title="type parameter in Entity">T</a>&gt;&nbsp;function)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block">Updates the current entity's value using the specified unary operator and returns a new entity containing the
 updated value.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab5"><code>default <a href="Entity.html" title="interface in io.fluxcapacitor.javaclient.modeling">Entity</a><wbr>&lt;<a href="Entity.html" title="type parameter in Entity">T</a>&gt;</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab5"><code><a href="#withEventIndex(java.lang.Long,java.lang.String)" class="member-name-link">withEventIndex</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Long.html" title="class or interface in java.lang" class="external-link">Long</a>&nbsp;index,
 <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;messageId)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab5">
<div class="block">Updates the event index and message ID of the entity and returns the updated version of the entity.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab5"><code>default <a href="Entity.html" title="interface in io.fluxcapacitor.javaclient.modeling">Entity</a><wbr>&lt;<a href="Entity.html" title="type parameter in Entity">T</a>&gt;</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab5"><code><a href="#withSequenceNumber(long)" class="member-name-link">withSequenceNumber</a><wbr>(long&nbsp;sequenceNumber)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab5">
<div class="block">Returns an updated entity based on this with the specified sequence number.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="Entity.html" title="interface in io.fluxcapacitor.javaclient.modeling">Entity</a><wbr>&lt;<a href="Entity.html" title="type parameter in Entity">T</a>&gt;</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#withType(java.lang.Class)" class="member-name-link">withType</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Class.html" title="class or interface in java.lang" class="external-link">Class</a>&lt;<a href="Entity.html" title="type parameter in Entity">T</a>&gt;&nbsp;type)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block">Sets the type of the entity to the specified class and returns the updated entity.</div>
</div>
</div>
</div>
</div>
</section>
</li>
</ul>
</section>
<section class="details">
<ul class="details-list">
<!-- ============ FIELD DETAIL =========== -->
<li>
<section class="field-details" id="field-detail">
<h2>Field Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="loading">
<h3>loading</h3>
<div class="member-signature"><span class="modifiers">static final</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/ThreadLocal.html" title="class or interface in java.lang" class="external-link">ThreadLocal</a>&lt;<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Boolean.html" title="class or interface in java.lang" class="external-link">Boolean</a>&gt;</span>&nbsp;<span class="element-name">loading</span></div>
</section>
</li>
<li>
<section class="detail" id="applying">
<h3>applying</h3>
<div class="member-signature"><span class="modifiers">static final</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/ThreadLocal.html" title="class or interface in java.lang" class="external-link">ThreadLocal</a>&lt;<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Boolean.html" title="class or interface in java.lang" class="external-link">Boolean</a>&gt;</span>&nbsp;<span class="element-name">applying</span></div>
</section>
</li>
<li>
<section class="detail" id="AGGREGATE_ID_METADATA_KEY">
<h3>AGGREGATE_ID_METADATA_KEY</h3>
<div class="member-signature"><span class="modifiers">static final</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></span>&nbsp;<span class="element-name">AGGREGATE_ID_METADATA_KEY</span></div>
<div class="block">A constant key used for identifying the aggregate ID in metadata of events. The value associated with this key
 represents the unique identifier of an aggregate to which the event was applied.</div>
<dl class="notes">
<dt>See Also:</dt>
<dd>
<ul class="tag-list">
<li><a href="../../../../constant-values.html#io.fluxcapacitor.javaclient.modeling.Entity.AGGREGATE_ID_METADATA_KEY">Constant Field Values</a></li>
</ul>
</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="AGGREGATE_TYPE_METADATA_KEY">
<h3>AGGREGATE_TYPE_METADATA_KEY</h3>
<div class="member-signature"><span class="modifiers">static final</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></span>&nbsp;<span class="element-name">AGGREGATE_TYPE_METADATA_KEY</span></div>
<div class="block">A constant key used for identifying the aggregate type in metadata of events. The value associated with this key
 represents the type of aggregate to which the event was applied.</div>
<dl class="notes">
<dt>See Also:</dt>
<dd>
<ul class="tag-list">
<li><a href="../../../../constant-values.html#io.fluxcapacitor.javaclient.modeling.Entity.AGGREGATE_TYPE_METADATA_KEY">Constant Field Values</a></li>
</ul>
</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="AGGREGATE_SN_METADATA_KEY">
<h3>AGGREGATE_SN_METADATA_KEY</h3>
<div class="member-signature"><span class="modifiers">static final</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></span>&nbsp;<span class="element-name">AGGREGATE_SN_METADATA_KEY</span></div>
<div class="block">A constant key used for identifying the sequence number of an applied event in metadata.</div>
<dl class="notes">
<dt>See Also:</dt>
<dd>
<ul class="tag-list">
<li><a href="../../../../constant-values.html#io.fluxcapacitor.javaclient.modeling.Entity.AGGREGATE_SN_METADATA_KEY">Constant Field Values</a></li>
</ul>
</dd>
</dl>
</section>
</li>
</ul>
</section>
</li>
<!-- ============ METHOD DETAIL ========== -->
<li>
<section class="method-details" id="method-detail">
<h2>Method Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="isLoading()">
<h3>isLoading</h3>
<div class="member-signature"><span class="modifiers">static</span>&nbsp;<span class="return-type">boolean</span>&nbsp;<span class="element-name">isLoading</span>()</div>
<div class="block">Indicates whether any entity is currently being loaded in this thread.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>true if any entity is currently being loaded, false otherwise.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="isApplying()">
<h3>isApplying</h3>
<div class="member-signature"><span class="modifiers">static</span>&nbsp;<span class="return-type">boolean</span>&nbsp;<span class="element-name">isApplying</span>()</div>
<div class="block">Indicates whether any entity is currently being applied to in this thread.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>true if any entity is currently being applied to, false otherwise.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getAggregateId(io.fluxcapacitor.common.api.HasMetadata)">
<h3>getAggregateId</h3>
<div class="member-signature"><span class="modifiers">static</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></span>&nbsp;<span class="element-name">getAggregateId</span><wbr><span class="parameters">(<a href="../../common/api/HasMetadata.html" title="interface in io.fluxcapacitor.common.api">HasMetadata</a>&nbsp;message)</span></div>
<div class="block">Retrieves the aggregate ID from the metadata of the given message.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>message</code> - the message containing metadata from which the aggregate ID is retrieved</dd>
<dt>Returns:</dt>
<dd>the aggregate ID extracted from the metadata, or null if the key is not present</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getAggregateType(io.fluxcapacitor.common.api.HasMetadata)">
<h3>getAggregateType</h3>
<div class="member-signature"><span class="modifiers">static</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Class.html" title="class or interface in java.lang" class="external-link">Class</a>&lt;?&gt;</span>&nbsp;<span class="element-name">getAggregateType</span><wbr><span class="parameters">(<a href="../../common/api/HasMetadata.html" title="interface in io.fluxcapacitor.common.api">HasMetadata</a>&nbsp;message)</span></div>
<div class="block">Retrieves the aggregate type from the metadata of the given message.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>message</code> - the message containing metadata from which the aggregate type is retrieved</dd>
<dt>Returns:</dt>
<dd>the aggregate type as a <code>Class&lt;?&gt;</code>, or <code>null</code> if the metadata key is not present</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="hasSequenceNumber(io.fluxcapacitor.common.api.HasMetadata)">
<h3>hasSequenceNumber</h3>
<div class="member-signature"><span class="modifiers">static</span>&nbsp;<span class="return-type">boolean</span>&nbsp;<span class="element-name">hasSequenceNumber</span><wbr><span class="parameters">(<a href="../../common/api/HasMetadata.html" title="interface in io.fluxcapacitor.common.api">HasMetadata</a>&nbsp;message)</span></div>
<div class="block">Determines whether the given message contains a sequence number in its metadata.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>message</code> - the message to check for the presence of a sequence number in its metadata</dd>
<dt>Returns:</dt>
<dd>true if the metadata contains the key for the sequence number, false otherwise</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getSequenceNumber(io.fluxcapacitor.common.api.HasMetadata)">
<h3>getSequenceNumber</h3>
<div class="member-signature"><span class="modifiers">static</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Long.html" title="class or interface in java.lang" class="external-link">Long</a></span>&nbsp;<span class="element-name">getSequenceNumber</span><wbr><span class="parameters">(<a href="../../common/api/HasMetadata.html" title="interface in io.fluxcapacitor.common.api">HasMetadata</a>&nbsp;message)</span></div>
<div class="block">Retrieves the sequence number from the metadata of the given message. The sequence number is extracted as a
 <code>Long</code> if present; otherwise, <code>null</code> is returned.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>message</code> - the message containing metadata from which the sequence number is retrieved</dd>
<dt>Returns:</dt>
<dd>the sequence number as a <code>Long</code>, or <code>null</code> if the metadata key is not present or the value
 cannot be parsed</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="id()">
<h3>id</h3>
<div class="member-signature"><span class="return-type"><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a></span>&nbsp;<span class="element-name">id</span>()</div>
<div class="block">Retrieves the unique identifier of the entity.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>the unique identifier of the entity, or null if this entity has not been initialized yet</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="type()">
<h3>type</h3>
<div class="member-signature"><span class="return-type"><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Class.html" title="class or interface in java.lang" class="external-link">Class</a>&lt;<a href="Entity.html" title="type parameter in Entity">T</a>&gt;</span>&nbsp;<span class="element-name">type</span>()</div>
<div class="block">Retrieves the type of the entity.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>the class type of the entity, or null if the type has not been defined</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="withType(java.lang.Class)">
<h3>withType</h3>
<div class="member-signature"><span class="return-type"><a href="Entity.html" title="interface in io.fluxcapacitor.javaclient.modeling">Entity</a>&lt;<a href="Entity.html" title="type parameter in Entity">T</a>&gt;</span>&nbsp;<span class="element-name">withType</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Class.html" title="class or interface in java.lang" class="external-link">Class</a>&lt;<a href="Entity.html" title="type parameter in Entity">T</a>&gt;&nbsp;type)</span></div>
<div class="block">Sets the type of the entity to the specified class and returns the updated entity.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>type</code> - the class representing the type to be set for the entity</dd>
<dt>Returns:</dt>
<dd>the updated entity with the specified type</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="get()">
<h3>get</h3>
<div class="member-signature"><span class="return-type"><a href="Entity.html" title="type parameter in Entity">T</a></span>&nbsp;<span class="element-name">get</span>()</div>
<div class="block">Retrieves the current instance of the entity.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>the current instance of the entity or null if not initialized</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="isEmpty()">
<h3>isEmpty</h3>
<div class="member-signature"><span class="modifiers">default</span>&nbsp;<span class="return-type">boolean</span>&nbsp;<span class="element-name">isEmpty</span>()</div>
<div class="block">Checks if the current entity instance is empty.
 <p>
 This method determines whether the value held by this entity is `null`.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>true if the entity's current instance is null, false otherwise</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="isPresent()">
<h3>isPresent</h3>
<div class="member-signature"><span class="modifiers">default</span>&nbsp;<span class="return-type">boolean</span>&nbsp;<span class="element-name">isPresent</span>()</div>
<div class="block">Checks whether the entity is considered present.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>true if the current instance of the entity is not null, false otherwise</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="ifPresent(java.util.function.UnaryOperator)">
<h3>ifPresent</h3>
<div class="member-signature"><span class="modifiers">default</span>&nbsp;<span class="return-type"><a href="Entity.html" title="interface in io.fluxcapacitor.javaclient.modeling">Entity</a>&lt;<a href="Entity.html" title="type parameter in Entity">T</a>&gt;</span>&nbsp;<span class="element-name">ifPresent</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/function/UnaryOperator.html" title="class or interface in java.util.function" class="external-link">UnaryOperator</a>&lt;<a href="Entity.html" title="interface in io.fluxcapacitor.javaclient.modeling">Entity</a>&lt;<a href="Entity.html" title="type parameter in Entity">T</a>&gt;&gt;&nbsp;action)</span></div>
<div class="block">Applies the specified action to this entity if it is present, returning the result of the action. If this entity
 is not present (i.e., its value is null), the entity itself is returned unchanged.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>action</code> - the action to apply to this entity if it is present; must be a <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/function/UnaryOperator.html" title="class or interface in java.util.function" class="external-link"><code>UnaryOperator</code></a> that accepts
               and returns an <code>Entity&lt;T&gt;</code></dd>
<dt>Returns:</dt>
<dd>the result of applying the action to this entity if it is present, or this entity itself if it is not
 present</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="mapIfPresent(java.util.function.Function)">
<h3>mapIfPresent</h3>
<div class="member-signature"><span class="modifiers">default</span>&nbsp;<span class="type-parameters">&lt;U&gt;</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/Optional.html" title="class or interface in java.util" class="external-link">Optional</a>&lt;U&gt;</span>&nbsp;<span class="element-name">mapIfPresent</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/function/Function.html" title="class or interface in java.util.function" class="external-link">Function</a>&lt;<a href="Entity.html" title="interface in io.fluxcapacitor.javaclient.modeling">Entity</a>&lt;<a href="Entity.html" title="type parameter in Entity">T</a>&gt;,<wbr>U&gt;&nbsp;action)</span></div>
<div class="block">Maps the entity to a new value if the entity is present. This method applies the provided mapping function to the
 entity if it is initialized and returns an <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/Optional.html" title="class or interface in java.util" class="external-link"><code>Optional</code></a> containing the result or an empty <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/Optional.html" title="class or interface in java.util" class="external-link"><code>Optional</code></a> if
 the entity is not present.</div>
<dl class="notes">
<dt>Type Parameters:</dt>
<dd><code>U</code> - the type of the result of applying the mapping function</dd>
<dt>Parameters:</dt>
<dd><code>action</code> - the mapping function to apply to the entity if present</dd>
<dt>Returns:</dt>
<dd>an <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/Optional.html" title="class or interface in java.util" class="external-link"><code>Optional</code></a> containing the result of the mapping function, or an empty <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/Optional.html" title="class or interface in java.util" class="external-link"><code>Optional</code></a> if the
 entity is not present</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="idProperty()">
<h3>idProperty</h3>
<div class="member-signature"><span class="return-type"><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></span>&nbsp;<span class="element-name">idProperty</span>()</div>
<div class="block">Retrieves the name of the property that serves as the unique identifier for the entity.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>the name of the identification property as a string</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="parent()">
<h3>parent</h3>
<div class="member-signature"><span class="return-type"><a href="Entity.html" title="interface in io.fluxcapacitor.javaclient.modeling">Entity</a>&lt;?&gt;</span>&nbsp;<span class="element-name">parent</span>()</div>
<div class="block">Retrieves the parent entity of the current entity.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>the parent entity of the current entity, or null if this entity does not have a parent</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="ancestors()">
<h3>ancestors</h3>
<div class="member-signature"><span class="modifiers">default</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/List.html" title="class or interface in java.util" class="external-link">List</a>&lt;<a href="Entity.html" title="interface in io.fluxcapacitor.javaclient.modeling">Entity</a>&lt;?&gt;&gt;</span>&nbsp;<span class="element-name">ancestors</span>()</div>
<div class="block">Retrieves a list of the ancestor entities for the current entity. The ancestors are ordered from the farthest
 ancestor to the closest parent.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>a list of ancestor entities in hierarchical order, with the root entity first and the closest parent last</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="ancestorValue(java.lang.Class)">
<h3>ancestorValue</h3>
<div class="member-signature"><span class="modifiers">default</span>&nbsp;<span class="type-parameters">&lt;A&gt;</span>&nbsp;<span class="return-type">A</span>&nbsp;<span class="element-name">ancestorValue</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Class.html" title="class or interface in java.lang" class="external-link">Class</a>&lt;A&gt;&nbsp;ancestorType)</span></div>
<div class="block">Retrieves the value of the first ancestor entity in the hierarchy that matches the specified type. The search
 iterates through the ancestors of the current entity until one of the specified type is found. If no matching
 ancestor is found, this method returns null.</div>
<dl class="notes">
<dt>Type Parameters:</dt>
<dd><code>A</code> - the type of the ancestor entity to search for</dd>
<dt>Parameters:</dt>
<dd><code>ancestorType</code> - the class representing the type of the ancestor entity to find</dd>
<dt>Returns:</dt>
<dd>the value of the matching ancestor entity cast to the specified type, or null if no such ancestor is
 found</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="aliases()">
<h3>aliases</h3>
<div class="member-signature"><span class="return-type"><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/Collection.html" title="class or interface in java.util" class="external-link">Collection</a>&lt;?&gt;</span>&nbsp;<span class="element-name">aliases</span>()</div>
<div class="block">Retrieves a collection of aliases associated with this entity.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>a collection containing aliases of this entity, or an empty collection if no aliases are present</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="isRoot()">
<h3>isRoot</h3>
<div class="member-signature"><span class="modifiers">default</span>&nbsp;<span class="return-type">boolean</span>&nbsp;<span class="element-name">isRoot</span>()</div>
<div class="block">Determines whether the current entity is the root entity in its hierarchical structure.
 <p>
 This method checks if the entity has no parent, indicating it is at the top level of the hierarchy.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>true if the current entity has no parent and is considered the root entity, false otherwise</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="root()">
<h3>root</h3>
<div class="member-signature"><span class="modifiers">default</span>&nbsp;<span class="return-type"><a href="Entity.html" title="interface in io.fluxcapacitor.javaclient.modeling">Entity</a>&lt;?&gt;</span>&nbsp;<span class="element-name">root</span>()</div>
<div class="block">Retrieves the root entity in the hierarchy. The root entity is determined by traversing up the parent hierarchy
 until a root entity, which has no parent, is found.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>the root entity if a parent hierarchy exists, or this entity itself if no parent is present</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="lastEventId()">
<h3>lastEventId</h3>
<div class="member-signature"><span class="modifiers">default</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></span>&nbsp;<span class="element-name">lastEventId</span>()</div>
<div class="block">Retrieves the identifier of the last event applied to the entity hierarchy.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>the identifier of the last event as a string, or null if no events have been recorded in the entity's
 aggregate</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="lastEventIndex()">
<h3>lastEventIndex</h3>
<div class="member-signature"><span class="modifiers">default</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Long.html" title="class or interface in java.lang" class="external-link">Long</a></span>&nbsp;<span class="element-name">lastEventIndex</span>()</div>
<div class="block">Retrieves the index of the last event applied to this entity hierarchy.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>the index of the last event as a <code>Long</code>, or null if no events have been recorded for the entity's
 aggregate</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="highestEventIndex()">
<h3>highestEventIndex</h3>
<div class="member-signature"><span class="modifiers">default</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Long.html" title="class or interface in java.lang" class="external-link">Long</a></span>&nbsp;<span class="element-name">highestEventIndex</span>()</div>
<div class="block">Retrieves the highest event index associated with the aggregate. The method resolves the
 <a href="#lastEventIndex()"><code>lastEventIndex()</code></a>. If that's null, it recursively checks the last event index of previous versions of the
 entity. Returns null if no version of this entity has an event index.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>the highest event index as a <code>Long</code>, or null if no event index is found</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="withEventIndex(java.lang.Long,java.lang.String)">
<h3>withEventIndex</h3>
<div class="member-signature"><span class="modifiers">default</span>&nbsp;<span class="return-type"><a href="Entity.html" title="interface in io.fluxcapacitor.javaclient.modeling">Entity</a>&lt;<a href="Entity.html" title="type parameter in Entity">T</a>&gt;</span>&nbsp;<span class="element-name">withEventIndex</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Long.html" title="class or interface in java.lang" class="external-link">Long</a>&nbsp;index,
 <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;messageId)</span></div>
<div class="block">Updates the event index and message ID of the entity and returns the updated version of the entity.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>index</code> - the event index to set for the root entity</dd>
<dd><code>messageId</code> - the message ID associated with the event</dd>
<dt>Returns:</dt>
<dd>the updated entity corresponding to the current entity's ID and type, or null if no such entity can be
 found</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="withSequenceNumber(long)">
<h3>withSequenceNumber</h3>
<div class="member-signature"><span class="modifiers">default</span>&nbsp;<span class="return-type"><a href="Entity.html" title="interface in io.fluxcapacitor.javaclient.modeling">Entity</a>&lt;<a href="Entity.html" title="type parameter in Entity">T</a>&gt;</span>&nbsp;<span class="element-name">withSequenceNumber</span><wbr><span class="parameters">(long&nbsp;sequenceNumber)</span></div>
<div class="block">Returns an updated entity based on this with the specified sequence number.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>sequenceNumber</code> - the sequence number to assign to the entity</dd>
<dt>Returns:</dt>
<dd>the updated entity with the specified sequence number, or null if the entity could not be found in the
 entity hierarchy</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="timestamp()">
<h3>timestamp</h3>
<div class="member-signature"><span class="modifiers">default</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/time/Instant.html" title="class or interface in java.time" class="external-link">Instant</a></span>&nbsp;<span class="element-name">timestamp</span>()</div>
<div class="block">Retrieves the timestamp of the entity.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>the timestamp as an <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/time/Instant.html" title="class or interface in java.time" class="external-link"><code>Instant</code></a> obtained from the root entity</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="sequenceNumber()">
<h3>sequenceNumber</h3>
<div class="member-signature"><span class="modifiers">default</span>&nbsp;<span class="return-type">long</span>&nbsp;<span class="element-name">sequenceNumber</span>()</div>
<div class="block">Retrieves the sequence number of the current entity.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>the sequence number of the root entity</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="rootAnnotation()">
<h3>rootAnnotation</h3>
<div class="member-signature"><span class="modifiers">default</span>&nbsp;<span class="return-type"><a href="Aggregate.html" title="annotation interface in io.fluxcapacitor.javaclient.modeling">Aggregate</a></span>&nbsp;<span class="element-name">rootAnnotation</span>()</div>
<div class="block">Retrieves the root-level annotation of the aggregate, if any.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>the <a href="Aggregate.html" title="annotation interface in io.fluxcapacitor.javaclient.modeling"><code>Aggregate</code></a> annotation of the root entity, or null if not found</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="previous()">
<h3>previous</h3>
<div class="member-signature"><span class="modifiers">default</span>&nbsp;<span class="return-type"><a href="Entity.html" title="interface in io.fluxcapacitor.javaclient.modeling">Entity</a>&lt;<a href="Entity.html" title="type parameter in Entity">T</a>&gt;</span>&nbsp;<span class="element-name">previous</span>()</div>
<div class="block">Retrieves the previous version of this entity.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>the previous state of the entity, or null if this is the first known version</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="playBackToEvent(java.lang.Long,java.lang.String)">
<h3>playBackToEvent</h3>
<div class="member-signature"><span class="modifiers">default</span>&nbsp;<span class="return-type"><a href="Entity.html" title="interface in io.fluxcapacitor.javaclient.modeling">Entity</a>&lt;<a href="Entity.html" title="type parameter in Entity">T</a>&gt;</span>&nbsp;<span class="element-name">playBackToEvent</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Long.html" title="class or interface in java.lang" class="external-link">Long</a>&nbsp;eventIndex,
 <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;eventId)</span></div>
<div class="block">Finds a version of this entity matching the given eventIndex or eventId. This method plays back the aggregate
 until the aggregate's <a href="#lastEventIndex()"><code>lastEventIndex()</code></a> smaller or equal to eventIndex or <a href="#lastEventId()"><code>lastEventId()</code></a> equals
 eventId.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>eventIndex</code> - the index of the event to revert to, or null if the index is not provided</dd>
<dd><code>eventId</code> - the unique ID of the event to revert to</dd>
<dt>Returns:</dt>
<dd>the aggregate entity reverted to the specified event state</dd>
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/IllegalStateException.html" title="class or interface in java.lang" class="external-link">IllegalStateException</a></code> - if the playback to the event state fails</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="playBackToCondition(java.util.function.Predicate)">
<h3>playBackToCondition</h3>
<div class="member-signature"><span class="modifiers">default</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/Optional.html" title="class or interface in java.util" class="external-link">Optional</a>&lt;<a href="Entity.html" title="interface in io.fluxcapacitor.javaclient.modeling">Entity</a>&lt;<a href="Entity.html" title="type parameter in Entity">T</a>&gt;&gt;</span>&nbsp;<span class="element-name">playBackToCondition</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/function/Predicate.html" title="class or interface in java.util.function" class="external-link">Predicate</a>&lt;<a href="Entity.html" title="interface in io.fluxcapacitor.javaclient.modeling">Entity</a>&lt;<a href="Entity.html" title="type parameter in Entity">T</a>&gt;&gt;&nbsp;condition)</span></div>
<div class="block">Plays back through older versions of this entity until a specified condition is met. This method starts from the
 current entity and iteratively moves to previous versions of the entity until the condition is satisfied or there
 are no older versions.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>condition</code> - the predicate condition to evaluate against each entity while playing back</dd>
<dt>Returns:</dt>
<dd>an Optional containing the first entity that meets the condition, or an empty Optional if no such entity
 is found</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="entities()">
<h3>entities</h3>
<div class="member-signature"><span class="return-type"><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/Collection.html" title="class or interface in java.util" class="external-link">Collection</a>&lt;? extends <a href="Entity.html" title="interface in io.fluxcapacitor.javaclient.modeling">Entity</a>&lt;?&gt;&gt;</span>&nbsp;<span class="element-name">entities</span>()</div>
<div class="block">Retrieves child entities of this entity.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>a collection containing child entities.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="allEntities()">
<h3>allEntities</h3>
<div class="member-signature"><span class="modifiers">default</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/stream/Stream.html" title="class or interface in java.util.stream" class="external-link">Stream</a>&lt;<a href="Entity.html" title="interface in io.fluxcapacitor.javaclient.modeling">Entity</a>&lt;?&gt;&gt;</span>&nbsp;<span class="element-name">allEntities</span>()</div>
<div class="block">Retrieves a stream of all entities, including the current entity and all nested entities.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>a <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/stream/Stream.html" title="class or interface in java.util.stream" class="external-link"><code>Stream</code></a> containing the current entity and all nested entities within it.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getEntity(java.lang.Object)">
<h3>getEntity</h3>
<div class="member-signature"><span class="modifiers">default</span>&nbsp;<span class="type-parameters">&lt;C&gt;</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/Optional.html" title="class or interface in java.util" class="external-link">Optional</a>&lt;<a href="Entity.html" title="interface in io.fluxcapacitor.javaclient.modeling">Entity</a>&lt;C&gt;&gt;</span>&nbsp;<span class="element-name">getEntity</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a>&nbsp;entityId)</span></div>
<div class="block">Retrieves an entity based on the provided entity ID. The entity can be matched either by its primary ID or by any
 of its aliases.</div>
<dl class="notes">
<dt>Type Parameters:</dt>
<dd><code>C</code> - the type parameter representing the content or payload of the entity</dd>
<dt>Parameters:</dt>
<dd><code>entityId</code> - the ID or alias of the entity to search for; if null, an empty <code>Optional</code> is returned</dd>
<dt>Returns:</dt>
<dd>an <code>Optional</code> containing the matching entity if found, or an empty <code>Optional</code> if no match
 exists</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="relationships()">
<h3>relationships</h3>
<div class="member-signature"><span class="modifiers">default</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/Set.html" title="class or interface in java.util" class="external-link">Set</a>&lt;<a href="../../common/api/modeling/Relationship.html" title="class in io.fluxcapacitor.common.api.modeling">Relationship</a>&gt;</span>&nbsp;<span class="element-name">relationships</span>()</div>
<div class="block">Retrieves the set of relationships between the aggregate root and all its entities.
 <p>
 If the current entity is not a root entity, this method delegates to the root entity's relationships. If the root
 entity is empty, an empty set is returned. Otherwise, the relationships are computed based on the entity's ID,
 type, and aliases.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>a set of <code>Relationship</code> objects representing the relationships associated with the aggregate root.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="associations(io.fluxcapacitor.javaclient.modeling.Entity)">
<h3>associations</h3>
<div class="member-signature"><span class="modifiers">default</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/Set.html" title="class or interface in java.util" class="external-link">Set</a>&lt;<a href="../../common/api/modeling/Relationship.html" title="class in io.fluxcapacitor.common.api.modeling">Relationship</a>&gt;</span>&nbsp;<span class="element-name">associations</span><wbr><span class="parameters">(<a href="Entity.html" title="interface in io.fluxcapacitor.javaclient.modeling">Entity</a>&lt;?&gt;&nbsp;previous)</span></div>
<div class="block">Determines the set of new associations (relationships) that are present in the current entity but not in the
 provided previous entity.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>previous</code> - The previous entity whose relationships will be excluded from the current entity's
                 relationships.</dd>
<dt>Returns:</dt>
<dd>A set of relationships that exist in the current entity but not in the previous entity.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="dissociations(io.fluxcapacitor.javaclient.modeling.Entity)">
<h3>dissociations</h3>
<div class="member-signature"><span class="modifiers">default</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/Set.html" title="class or interface in java.util" class="external-link">Set</a>&lt;<a href="../../common/api/modeling/Relationship.html" title="class in io.fluxcapacitor.common.api.modeling">Relationship</a>&gt;</span>&nbsp;<span class="element-name">dissociations</span><wbr><span class="parameters">(<a href="Entity.html" title="interface in io.fluxcapacitor.javaclient.modeling">Entity</a>&lt;?&gt;&nbsp;previous)</span></div>
<div class="block">Identifies and returns the set of relationships that are dissociated when compared to the relationships of the
 given previous entity.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>previous</code> - the entity whose relationships are to be compared against the current entity's relationships.</dd>
<dt>Returns:</dt>
<dd>a set of relationships that exist in the given entity but are not present in the current entity.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="update(java.util.function.UnaryOperator)">
<h3>update</h3>
<div class="member-signature"><span class="return-type"><a href="Entity.html" title="interface in io.fluxcapacitor.javaclient.modeling">Entity</a>&lt;<a href="Entity.html" title="type parameter in Entity">T</a>&gt;</span>&nbsp;<span class="element-name">update</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/function/UnaryOperator.html" title="class or interface in java.util.function" class="external-link">UnaryOperator</a>&lt;<a href="Entity.html" title="type parameter in Entity">T</a>&gt;&nbsp;function)</span></div>
<div class="block">Updates the current entity's value using the specified unary operator and returns a new entity containing the
 updated value.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>function</code> - the unary operator to apply to the current entity's value</dd>
<dt>Returns:</dt>
<dd>a new entity containing the updated value after applying the function</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="apply(java.lang.Object...)">
<h3>apply</h3>
<div class="member-signature"><span class="modifiers">default</span>&nbsp;<span class="return-type"><a href="Entity.html" title="interface in io.fluxcapacitor.javaclient.modeling">Entity</a>&lt;<a href="Entity.html" title="type parameter in Entity">T</a>&gt;</span>&nbsp;<span class="element-name">apply</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a>...&nbsp;events)</span></div>
<div class="block">Applies the given events to reconstruct or update the entity's state.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>events</code> - an array of events to be applied, represented as objects</dd>
<dt>Returns:</dt>
<dd>the resulting entity after applying the events</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="apply(java.util.Collection)">
<h3>apply</h3>
<div class="member-signature"><span class="modifiers">default</span>&nbsp;<span class="return-type"><a href="Entity.html" title="interface in io.fluxcapacitor.javaclient.modeling">Entity</a>&lt;<a href="Entity.html" title="type parameter in Entity">T</a>&gt;</span>&nbsp;<span class="element-name">apply</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/Collection.html" title="class or interface in java.util" class="external-link">Collection</a>&lt;?&gt;&nbsp;events)</span></div>
<div class="block">Applies a collection of events to the current entity, returning an updated entity.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>events</code> - a collection of events to be applied to the entity</dd>
<dt>Returns:</dt>
<dd>the updated entity after all events have been applied</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="apply(java.lang.Object)">
<h3>apply</h3>
<div class="member-signature"><span class="modifiers">default</span>&nbsp;<span class="return-type"><a href="Entity.html" title="interface in io.fluxcapacitor.javaclient.modeling">Entity</a>&lt;<a href="Entity.html" title="type parameter in Entity">T</a>&gt;</span>&nbsp;<span class="element-name">apply</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a>&nbsp;event)</span></div>
<div class="block">Processes the given event and applies the corresponding logic based on its type.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>event</code> - the event object to be processed. It can be the payload of the event or an event message.</dd>
<dt>Returns:</dt>
<dd>the result of the operation as an <code>Entity&lt;T&gt;</code> instance.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="apply(java.lang.Object,io.fluxcapacitor.common.api.Metadata)">
<h3>apply</h3>
<div class="member-signature"><span class="modifiers">default</span>&nbsp;<span class="return-type"><a href="Entity.html" title="interface in io.fluxcapacitor.javaclient.modeling">Entity</a>&lt;<a href="Entity.html" title="type parameter in Entity">T</a>&gt;</span>&nbsp;<span class="element-name">apply</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a>&nbsp;event,
 <a href="../../common/api/Metadata.html" title="class in io.fluxcapacitor.common.api">Metadata</a>&nbsp;metadata)</span></div>
<div class="block">Applies an event and associated metadata to produce a resulting entity.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>event</code> - the event object that will be applied</dd>
<dd><code>metadata</code> - metadata associated with the event</dd>
<dt>Returns:</dt>
<dd>the resulting entity after applying the event and metadata</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="apply(io.fluxcapacitor.javaclient.common.serialization.DeserializingMessage)">
<h3>apply</h3>
<div class="member-signature"><span class="modifiers">default</span>&nbsp;<span class="return-type"><a href="Entity.html" title="interface in io.fluxcapacitor.javaclient.modeling">Entity</a>&lt;<a href="Entity.html" title="type parameter in Entity">T</a>&gt;</span>&nbsp;<span class="element-name">apply</span><wbr><span class="parameters">(<a href="../common/serialization/DeserializingMessage.html" title="class in io.fluxcapacitor.javaclient.common.serialization">DeserializingMessage</a>&nbsp;eventMessage)</span></div>
<div class="block">Applies the given deserializing message to the entity.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>eventMessage</code> - the deserializing message to process and convert into an entity</dd>
<dt>Returns:</dt>
<dd>the entity resulting from applying the given deserializing message</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="apply(io.fluxcapacitor.javaclient.common.Message)">
<h3>apply</h3>
<div class="member-signature"><span class="return-type"><a href="Entity.html" title="interface in io.fluxcapacitor.javaclient.modeling">Entity</a>&lt;<a href="Entity.html" title="type parameter in Entity">T</a>&gt;</span>&nbsp;<span class="element-name">apply</span><wbr><span class="parameters">(<a href="../common/Message.html" title="class in io.fluxcapacitor.javaclient.common">Message</a>&nbsp;eventMessage)</span></div>
<div class="block">Applies the given message to the entity.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>eventMessage</code> - the message representing the event to be applied</dd>
<dt>Returns:</dt>
<dd>the updated or newly created Entity of type T</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="commit()">
<h3>commit</h3>
<div class="member-signature"><span class="return-type"><a href="Entity.html" title="interface in io.fluxcapacitor.javaclient.modeling">Entity</a>&lt;<a href="Entity.html" title="type parameter in Entity">T</a>&gt;</span>&nbsp;<span class="element-name">commit</span>()</div>
<div class="block">Commits the current state of the entity, persisting any changes made to it. This method ensures that the
 modifications are saved. Typically, it is unnecessary to invoke this manually as it is automatically invoked
 after the current handler or consumer batch has completed.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>The updated entity after the commit operation is successfully completed.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="assertLegal(java.lang.Object)">
<h3>assertLegal</h3>
<div class="member-signature"><span class="type-parameters">&lt;E extends <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Exception.html" title="class or interface in java.lang" class="external-link">Exception</a>&gt;</span>&nbsp;<span class="return-type"><a href="Entity.html" title="interface in io.fluxcapacitor.javaclient.modeling">Entity</a>&lt;<a href="Entity.html" title="type parameter in Entity">T</a>&gt;</span>&nbsp;<span class="element-name">assertLegal</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a>&nbsp;update)</span>
                                     throws <span class="exceptions">E</span></div>
<div class="block">Verifies that the provided update is legal given the current state of the aggregate. If so, the entity is
 returned; otherwise, it throws an appropriate exception.</div>
<dl class="notes">
<dt>Type Parameters:</dt>
<dd><code>E</code> - the type of exception expected if the update is not legal</dd>
<dt>Parameters:</dt>
<dd><code>update</code> - the update to be validated for compliance with the required rules</dd>
<dt>Returns:</dt>
<dd>the entity if the update is legal</dd>
<dt>Throws:</dt>
<dd><code>E</code> - if the update fails to meet legal requirements</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="assertAndApply(java.lang.Object)">
<h3>assertAndApply</h3>
<div class="member-signature"><span class="modifiers">default</span>&nbsp;<span class="return-type"><a href="Entity.html" title="interface in io.fluxcapacitor.javaclient.modeling">Entity</a>&lt;<a href="Entity.html" title="type parameter in Entity">T</a>&gt;</span>&nbsp;<span class="element-name">assertAndApply</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a>&nbsp;payloadOrMessage)</span></div>
<div class="block">Verifies that the provided update is legal given the current state of the aggregate and on success applies it to
 the aggregate. If not, it throws an appropriate exception.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>payloadOrMessage</code> - the input object to be applied; can be a payload or a message</dd>
<dt>Returns:</dt>
<dd>the resulting entity after application</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="assertAndApply(java.lang.Object,io.fluxcapacitor.common.api.Metadata)">
<h3>assertAndApply</h3>
<div class="member-signature"><span class="modifiers">default</span>&nbsp;<span class="return-type"><a href="Entity.html" title="interface in io.fluxcapacitor.javaclient.modeling">Entity</a>&lt;<a href="Entity.html" title="type parameter in Entity">T</a>&gt;</span>&nbsp;<span class="element-name">assertAndApply</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a>&nbsp;payload,
 <a href="../../common/api/Metadata.html" title="class in io.fluxcapacitor.common.api">Metadata</a>&nbsp;metadata)</span></div>
<div class="block">Verifies that the provided update is legal given the current state of the aggregate and on success applies it to
 the aggregate. If the update is not legal, it throws an appropriate exception.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>payload</code> - The object representing the payload to be validated and processed.</dd>
<dd><code>metadata</code> - The metadata associated with the payload for validation and processing.</dd>
<dt>Returns:</dt>
<dd>An Entity instance containing the result after processing the payload and metadata.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="assertAndApply(java.lang.Object...)">
<h3>assertAndApply</h3>
<div class="member-signature"><span class="modifiers">default</span>&nbsp;<span class="return-type"><a href="Entity.html" title="interface in io.fluxcapacitor.javaclient.modeling">Entity</a>&lt;<a href="Entity.html" title="type parameter in Entity">T</a>&gt;</span>&nbsp;<span class="element-name">assertAndApply</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a>...&nbsp;updates)</span></div>
<div class="block">Applies a number of updates to the current entity after performing necessary legality assertions. If any of the
 updates is not legal, it rolls back the entity and throws an appropriate exception.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>updates</code> - an array of updates to be processed and applied to the entity</dd>
<dt>Returns:</dt>
<dd>an updated Entity instance after applying the provided updates</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="assertAndApply(java.util.Collection)">
<h3>assertAndApply</h3>
<div class="member-signature"><span class="modifiers">default</span>&nbsp;<span class="return-type"><a href="Entity.html" title="interface in io.fluxcapacitor.javaclient.modeling">Entity</a>&lt;<a href="Entity.html" title="type parameter in Entity">T</a>&gt;</span>&nbsp;<span class="element-name">assertAndApply</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/Collection.html" title="class or interface in java.util" class="external-link">Collection</a>&lt;?&gt;&nbsp;updates)</span></div>
<div class="block">Applies a collection of updates sequentially to the current entity after asserting each is legal, and returns the
 resulting entity. If any of the updates is not legal, it rolls back the entity and throws an appropriate
 exception.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>updates</code> - the collection of updates to be applied to the entity</dd>
<dt>Returns:</dt>
<dd>the resulting entity after applying the updates</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="possibleTargets(java.lang.Object)">
<h3>possibleTargets</h3>
<div class="member-signature"><span class="modifiers">default</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Iterable.html" title="class or interface in java.lang" class="external-link">Iterable</a>&lt;<a href="Entity.html" title="interface in io.fluxcapacitor.javaclient.modeling">Entity</a>&lt;?&gt;&gt;</span>&nbsp;<span class="element-name">possibleTargets</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a>&nbsp;update)</span></div>
<div class="block">Determines the possible target entities for the given update. The update can be a payload or an instance of
 <a href="../common/HasMessage.html" title="interface in io.fluxcapacitor.javaclient.common"><code>HasMessage</code></a>.
 <p>
 The method evaluates the update against child entities of this entity and identifies which entities are valid
 targets.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>update</code> - the object to evaluate against the entities. If null, an empty list is returned.</dd>
<dt>Returns:</dt>
<dd>an iterable collection of entities that are considered valid targets for the provided update.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="depth()">
<h3>depth</h3>
<div class="member-signature"><span class="modifiers">default</span>&nbsp;<span class="return-type">int</span>&nbsp;<span class="element-name">depth</span>()</div>
<div class="block">Calculates the depth level of the current entity in the aggregate. The depth is determined by counting the number
 of parent entities above the current entity. The root entity has a depth of 0.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>the depth level of the current entity, where 0 indicates the root entity.</dd>
</dl>
</section>
</li>
</ul>
</section>
</li>
</ul>
</section>
<!-- ========= END OF CLASS DATA ========= -->
</main>
<footer role="contentinfo">
<hr>
<p class="legal-copy"><small>Copyright &#169; 2025 <a href="https://github.com/flux-capacitor-io/flux-capacitor-client">Flux Capacitor</a>. All rights reserved.</small></p>
</footer>
</div>
</div>
</body>
</html>
